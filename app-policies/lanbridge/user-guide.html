<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Network Share User Guide</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 960px; margin: 32px auto; padding: 0 16px; line-height: 1.6; }
    h1, h2 { color: #0a8a4b; }
    .lang { display: none; border-top: 1px solid #ddd; padding-top: 16px; margin-top: 20px; }
    ul { padding-left: 20px; }
    .lang-switch { margin: 12px 0 16px; }
    .lang-switch label { margin-right: 8px; font-weight: 600; }
    .lang-switch select { padding: 6px 10px; }
    .guide-image img { max-width: 100%; height: auto; margin: 8px 0 12px; border: 1px solid #ddd; border-radius: 8px; }

    .yaml-form { display: flex; flex-wrap: wrap; gap: 8px; align-items: center; margin-top: 8px; }
    .yaml-input { padding: 6px 10px; border: 1px solid #ccc; border-radius: 6px; min-width: 180px; }
    .yaml-form button { padding: 6px 12px; border: none; border-radius: 6px; background: #0a8a4b; color: #fff; cursor: pointer; }
    .yaml-form button:hover { background: #08733f; }
    .yaml-output { margin-top: 6px; color: #0a8a4b; font-weight: 600; word-break: break-all; }
    .yaml-output.error { color: #b00020; }
    .copy-row { margin-top: 6px; }
    .copy-btn { padding: 6px 12px; border: 1px solid #0a8a4b; border-radius: 6px; background: transparent; color: #0a8a4b; cursor: pointer; font-weight: 600; }
    .copy-btn:hover { background: rgba(10,138,75,0.08); }
    .proxy-bypass { margin-top: 4px; }
    .proxy-bypass-label { font-weight: 600; }
    .notice-green { color: #0a8a4b; font-weight: 600; }

  @media (prefers-color-scheme: dark) {
    body { background: #0c1117; color: #e4e6eb; }
    h1, h2 { color: #7ce694; }
    a { color: #8cd4ff; }
    .meta { color: #b0b3b8; }
    .lang { border-top-color: rgba(255,255,255,0.2); border-color: rgba(255,255,255,0.2); }
    .lang-switch select { background: #161b22; color: #e4e6eb; border: 1px solid rgba(255,255,255,0.2); }
    .guide-image img { border-color: rgba(255,255,255,0.2); }
    .yaml-input { background: #161b22; color: #e4e6eb; border: 1px solid rgba(255,255,255,0.2); }
    .yaml-form button { background: #1f8f5a; }
    .yaml-form button:hover { background: #167347; }
    .yaml-output { color: #7ce694; }
    .copy-btn { border-color: #7ce694; color: #7ce694; }
    .copy-btn:hover { background: rgba(124,230,148,0.12); }
    .notice-green { color: #7ce694; }
  }
  </style>
  <script>
    document.addEventListener('DOMContentLoaded', () => {

      const setupYamlGenerators = () => {
        const isValidIp = (value) => {
          const parts = value.split('.');
          if (parts.length !== 4) return false;
          return parts.every(part => /^\d+$/.test(part) && Number(part) >= 0 && Number(part) <= 255);
        };
        const isValidPort = (value) => {
          if (!/^\d+$/.test(value)) return false;
          const num = Number(value);
          return num >= 1 && num <= 65535;
        };
        document.querySelectorAll('.yaml-generator').forEach((wrapper) => {
          const inputs = wrapper.querySelectorAll('input');
          const ipInput = inputs[0];
          const portInput = inputs[1];
          const button = wrapper.querySelector('button');
          const output = wrapper.querySelector('.yaml-output');
          const invalidIp = wrapper.dataset.invalidIp || 'Invalid IP.';
          const invalidPort = wrapper.dataset.invalidPort || 'Invalid port.';
          const prefix = wrapper.dataset.outputPrefix || '';

          const renderError = (message) => {
            output.textContent = message;
            output.classList.add('error');
          };

          const renderLink = (link) => {
            output.classList.remove('error');
            output.innerHTML = `${prefix}<a href="${link}">${link}</a>`;
          };

          const handleGenerate = () => {
            const ip = ipInput.value.trim();
            const port = portInput.value.trim();
            if (!isValidIp(ip)) {
              renderError(invalidIp);
              return;
            }
            if (!isValidPort(port)) {
              renderError(invalidPort);
              return;
            }
            const url = new URL('port-yaml.html', window.location.href);
            url.searchParams.set('ip', ip);
            url.searchParams.set('port', port);
            renderLink(url.toString());
          };

          button.addEventListener('click', handleGenerate);
        });
      };

      const setupCopyButtons = () => {
        const copyLabels = {
          'en': { copy: 'Copy', copied: 'Copied', bypass: 'Proxy bypass:' },
          'zh-CN': { copy: '一键复制', copied: '已复制', bypass: '代理忽略项：' },
          'ar': { copy: 'نسخ', copied: 'تم النسخ', bypass: 'تجاوز الوكيل:' },
          'de': { copy: 'Kopieren', copied: 'Kopiert', bypass: 'Proxy-Ausnahmen:' },
          'es': { copy: 'Copiar', copied: 'Copiado', bypass: 'Omitir proxy:' },
          'fa': { copy: 'کپی', copied: 'کپی شد', bypass: 'استثناهای پروکسی:' },
          'fr': { copy: 'Copier', copied: 'Copié', bypass: 'Exceptions proxy :' },
          'hi': { copy: 'कॉपी', copied: 'कॉपी हो गया', bypass: 'प्रॉक्सी बायपास:' },
          'id': { copy: 'Salin', copied: 'Tersalin', bypass: 'Abaikan proxy:' },
          'ja': { copy: 'コピー', copied: 'コピー済み', bypass: 'プロキシ除外:' },
          'ko': { copy: '복사', copied: '복사됨', bypass: '프록시 제외:' },
          'ms': { copy: 'Salin', copied: 'Disalin', bypass: 'Abaikan proksi:' },
          'pt': { copy: 'Copiar', copied: 'Copiado', bypass: 'Ignorar proxy:' },
          'ru': { copy: 'Копировать', copied: 'Скопировано', bypass: 'Исключения прокси:' },
          'sw': { copy: 'Nakili', copied: 'Imenakiliwa', bypass: 'Epuka proksi:' },
          'th': { copy: 'คัดลอก', copied: 'คัดลอกแล้ว', bypass: 'ยกเว้นพร็อกซี:' },
          'tl': { copy: 'Kopyahin', copied: 'Nakopya', bypass: 'I-bypass ang proxy:' },
          'tr': { copy: 'Kopyala', copied: 'Kopyalandı', bypass: 'Proxy hariç:' },
          'ur': { copy: 'کاپی', copied: 'کاپی ہو گیا', bypass: 'پراکسی کو نظرانداز کریں:' },
          'vi': { copy: 'Sao chép', copied: 'Đã sao chép', bypass: 'Bỏ qua proxy:' }
        };

        const getLabels = (el) => {
          const lang = el.closest('.lang')?.dataset.lang || 'en';
          return copyLabels[lang] || copyLabels.en;
        };

        document.querySelectorAll('.proxy-bypass-label').forEach((label) => {
          const labels = getLabels(label);
          label.textContent = labels.bypass;
        });

        const fallbackCopy = (value) => {
          const textarea = document.createElement('textarea');
          textarea.value = value;
          textarea.style.position = 'fixed';
          textarea.style.opacity = '0';
          document.body.appendChild(textarea);
          textarea.focus();
          textarea.select();
          try {
            document.execCommand('copy');
          } finally {
            document.body.removeChild(textarea);
          }
        };

        document.querySelectorAll('.copy-btn').forEach((button) => {
          const labels = getLabels(button);
          button.textContent = labels.copy;
          button.addEventListener('click', async () => {
            const value = button.dataset.copy || '';
            try {
              if (navigator.clipboard?.writeText) {
                await navigator.clipboard.writeText(value);
              } else {
                fallbackCopy(value);
              }
              button.textContent = labels.copied;
              setTimeout(() => {
                button.textContent = labels.copy;
              }, 1600);
            } catch (err) {
              fallbackCopy(value);
              button.textContent = labels.copied;
              setTimeout(() => {
                button.textContent = labels.copy;
              }, 1600);
            }
          });
        });
      };

      const titles = {
        'en':'Network Share User Guide',
        'zh-CN':'Network Share 使用手册',
        'ar':'دليل استخدام Network Share',
        'de':'Network Share Benutzerhandbuch',
        'es':'Guía de Uso de Network Share',
        'fa':'راهنمای استفاده Network Share',
        'fr':'Guide d’utilisation Network Share',
        'hi':'Network Share उपयोग指南',
        'id':'Panduan Pengguna Network Share',
        'ja':'Network Share ユーザーガイド',
        'ko':'Network Share 사용 안내',
        'ms':'Panduan Pengguna Network Share',
        'pt':'Guia do Usuário Network Share',
        'ru':'Руководство пользователя Network Share',
        'sw':'Mwongozo wa Mtumiaji wa Network Share',
        'th':'คู่มือการใช้ Network Share',
        'tl':'Gabay sa Paggamit ng Network Share',
        'tr':'Network Share Kullanım Kılavuzu',
        'ur':'Network Share استعمال گائیڈ',
        'vi':'Hướng dẫn sử dụng Network Share'
      };
      const intro = {
        'en':'Supports full‑tunnel VPN proxy and LAN proxy; set host IP + port as needed.',
        'zh-CN':'支持全量 VPN 代理与局域网代理，可按需填写主机 IP 和端口。',
        'ar':'يدعم وكيل VPN كامل النطاق ووكيل LAN؛ اضبط IP المضيف والمنفذ عند الحاجة.',
        'de':'Unterstützt Volltunnel‑VPN‑Proxy und LAN‑Proxy; Host‑IP und Port nach Bedarf setzen.',
        'es':'Admite proxy VPN de túnel completo y proxy LAN; configura IP y puerto del host según sea necesario.',
        'fa':'از پروکسی VPN تمام‌ترافیک و پروکسی LAN پشتیبانی می‌کند؛ IP و پورت میزبان را در صورت نیاز تنظیم کنید.',
        'fr':'Prend en charge le proxy VPN tunnel complet et le proxy LAN ; définissez l’IP et le port de l’hôte selon le besoin.',
        'hi':'फुल‑टनल VPN प्रॉक्सी और LAN प्रॉक्सी समर्थित हैं; आवश्यकता अनुसार होस्ट IP व पोर्ट सेट करें।',
        'id':'Mendukung proxy VPN full‑tunnel dan proxy LAN; atur IP dan port host sesuai kebutuhan.',
        'ja':'フルトンネルVPNプロキシとLANプロキシに対応。必要に応じてホストIPとポートを設定してください。',
        'ko':'전체 터널 VPN 프록시와 LAN 프록시를 지원합니다. 필요에 따라 호스트 IP와 포트를 설정하세요.',
        'ms':'Menyokong proksi VPN terowong penuh dan proksi LAN; tetapkan IP serta port hos mengikut keperluan.',
        'pt':'Suporta proxy VPN de túnel completo e proxy LAN; defina IP e porta do host conforme necessário.',
        'ru':'Поддерживаются полнотуннельный VPN‑прокси и LAN‑прокси; при необходимости укажите IP и порт хоста.',
        'sw':'Inaunga mkono proksi ya VPN full‑tunnel na proksi ya LAN; weka IP na port ya host inapohitajika.',
        'th':'รองรับพร็อกซี VPN แบบ full‑tunnel และพร็อกซี LAN; ตั้งค่า IP และพอร์ตของโฮสต์ตามต้องการ',
        'tl':'Sumusuporta sa full‑tunnel VPN proxy at LAN proxy; itakda ang host IP at port kung kailangan.',
        'tr':'Tam tünel VPN proxy ve LAN proxy desteklenir; gerektiğinde host IP ve portu ayarlayın.',
        'ur':'فل ٹنل VPN پراکسی اور LAN پراکسی سپورٹ ہے؛ ضرورت کے مطابق ہوسٹ IP اور پورٹ سیٹ کریں۔',
        'vi':'Hỗ trợ proxy VPN full‑tunnel và proxy LAN; đặt IP và cổng của host khi cần.'
      };
      const map = {'en':'en','zh':'zh-CN','zh-CN':'zh-CN','zh-TW':'zh-CN','ar':'ar','de':'de','es':'es','fa':'fa','fr':'fr','hi':'hi','id':'id','in':'id','ja':'ja','ko':'ko','ms':'ms','pt':'pt','pt-BR':'pt','ru':'ru','sw':'sw','th':'th','tl':'tl','tr':'tr','ur':'ur','vi':'vi'};
      const apply = (lang) => {
        document.querySelectorAll('.lang').forEach(el => el.style.display='none');
        const sec=document.querySelector(`[data-lang="${lang}"]`)||document.querySelector('[data-lang="en"]');
        if(sec) sec.style.display='block';
        const t=titles[lang]||titles.en;
        document.title=t;
        const h1=document.getElementById('title');
        if(h1) h1.textContent=t;
        const p=document.getElementById('intro');
        if(p) p.textContent=intro[lang]||intro.en;
        const sel=document.getElementById('lang-select');
        if(sel) sel.value=lang;
      };
      const nav=(navigator.language||'en').split('-')[0];
      const target=map[navigator.language]||map[nav]||'en';
      apply(target);
      const sel=document.getElementById('lang-select');
      if(sel) sel.addEventListener('change',e=>apply(e.target.value));
      setupYamlGenerators();
      setupCopyButtons();
    });
  </script>
</head>
<body>
  <h1 id="title">Network Share User Guide</h1>
  <div class="lang-switch">
    <label for="lang-select">Language / 语言：</label>
    <select id="lang-select">
      <option value="en">English</option>
      <option value="zh-CN">中文</option>
      <option value="ar">العربية</option>
      <option value="de">Deutsch</option>
      <option value="es">Español</option>
      <option value="fa">فارسی</option>
      <option value="fr">Français</option>
      <option value="hi">हिन्दी</option>
      <option value="id">Bahasa Indonesia</option>
      <option value="ja">日本語</option>
      <option value="ko">한국어</option>
      <option value="ms">Bahasa Melayu</option>
      <option value="pt">Português</option>
      <option value="ru">Русский</option>
      <option value="sw">Kiswahili</option>
      <option value="th">ไทย</option>
      <option value="tl">Tagalog</option>
      <option value="tr">Türkçe</option>
      <option value="ur">اردو</option>
      <option value="vi">Tiếng Việt</option>
    </select>
  </div>
  <p id="intro">Supports full‑tunnel VPN proxy and LAN proxy; set host IP + port as needed.</p>

  <div class="lang" data-lang="en">
    <h2>Purpose</h2>
    <p>Use this device as a LAN proxy gateway on the same Wi‑Fi/hotspot; other devices forward traffic via this host (can stack with host VPN). Supports simultaneous connections from multiple devices.</p>
    <h2>Configuration parameters</h2>
    <div class="guide-image"><img src="img/introduce.png" alt="Configuration parameters"></div>
    <p>Host: 10.0.2.15:1080<br>Host IP: 10.0.2.15<br>App port: 1080<br>Replace the example IP and port with your device's actual values.<br>If the Listener Port is unavailable or in use, choose any port between 1024–49151; functionality is the same.</p>
    <h2>Host (with VPN) steps</h2>
    <ol>
      <li>Open the app, pick proxy mode (recommend “Auto-detect”) and port (default 1080).</li>
      <li>Ensure host and clients are on the same LAN; port not occupied.</li>
      <li>Tap “Start Gateway” and keep the foreground service alive.</li>
    </ol>
    <h2>Full‑tunnel VPN proxy</h2>
    <p>Install Clash on another device, download the generated YAML first, then import it in Clash via file import (direct link subscription is not supported currently). Use this when you want full‑device VPN proxying. The IP and port must match the host (with VPN) service you started.</p>
    <div class="yaml-generator" data-invalid-ip="Please enter a valid IP address." data-invalid-port="Please enter a valid port (1–65535)." data-output-prefix="Generated link: ">
      <div class="yaml-form">
        <input class="yaml-input" type="text" inputmode="decimal" placeholder="Enter IP">
        <input class="yaml-input" type="text" inputmode="numeric" placeholder="Enter port">
        <button type="button">Generate YAML link</button>
      </div>
      <div class="yaml-output" aria-live="polite"></div>
    </div>
    <p>Clash download: <a href="https://github.com/clashdownload/Clash">https://github.com/clashdownload/Clash</a></p>
    <h2>LAN proxy / Wi‑Fi LAN proxy</h2>
    <ul>
      <li><strong>Android</strong>: Wi‑Fi details → Proxy = Manual; host = this device IP, port = app port. Or set HTTP/HTTPS in apps.
        <div class="guide-image"><img src="img/guide_android.png" alt="Android proxy setup"></div>
      </li>
      <li><strong>iOS</strong>: Settings → Wi‑Fi → current network → Configure Proxy = Manual; server = host IP, port = app port (HTTP/HTTPS).
        <div class="guide-image"><img src="img/guide_ios.png" alt="iOS proxy setup"></div>
      </li>
      <li><strong>Windows</strong>: Settings → Network & Internet → Proxy → Manual; address = host IP, port = app port (HTTP/HTTPS); proxy bypass = localhost;127.*;192.168.*;10.*;172.16.*;172.17.*;172.18.*;172.19.*;172.20.*;172.21.*;172.22.*;172.23.*;172.24.*;172.25.*;172.26.*;172.27.*;172.28.*;172.29.*;172.30.*;172.31.*.
        <div class="copy-row"><button type="button" class="copy-btn" data-copy="localhost;127.*;192.168.*;10.*;172.16.*;172.17.*;172.18.*;172.19.*;172.20.*;172.21.*;172.22.*;172.23.*;172.24.*;172.25.*;172.26.*;172.27.*;172.28.*;172.29.*;172.30.*;172.31.*"></button></div>
        <div class="guide-image"><img src="img/guide_window.png" alt="Windows proxy setup"></div>
      </li>
      <li><strong>macOS</strong>: System Settings → Network → current interface → Details → Proxies; check HTTP/HTTPS (or SOCKS5), server = host IP, port = app port.
        <div class="proxy-bypass"><span class="proxy-bypass-label"></span> 127.0.0.1,192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,172.29.0.0/16,localhost,*.local,*.crashlytics.com,<local>,919dm*</div>
        <div class="copy-row"><button type="button" class="copy-btn" data-copy="127.0.0.1,192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,172.29.0.0/16,localhost,*.local,*.crashlytics.com,<local>,919dm*"></button></div>
        <div class="guide-image"><img src="img/guide_mac.png" alt="macOS proxy setup"></div>
      </li>
      <li><strong>Other devices</strong>: fill host IP + port in HTTP/HTTPS/SOCKS5 proxy settings supported by the device/app.</li>
    </ul>
    <h2>Enhanced mode</h2>
    <p>Some VPNs block inbound connections from other LAN devices, so they cannot reach the proxy service on this host and VPN sharing fails. Enhanced mode adds a companion device and moves the proxy service to that device. This host (with VPN) connects out to the companion device, brings the data back, and then performs requests locally.</p>
    <p>If other LAN devices still cannot access the proxy after correct settings, enable Enhanced mode. The companion device can also set up a proxy like other clients to use the VPN from the main device.</p>
    <p class="notice-green"><strong>Important:</strong> If the companion device also needs Clash full‑tunnel VPN, turn off VPN and connect to the main device first, then enable VPN after the connection succeeds. Device role detection currently depends on whether VPN is enabled.</p>
  </div>

  <div class="lang" data-lang="zh-CN">
    <h2>作用</h2>
    <p>同一 Wi‑Fi/热点下，将本机作为代理网关，其他设备通过本机转发流量（可叠加本机 VPN）。支持多台设备同时连接。</p>
    <h2>配置参数介绍</h2>
    <div class="guide-image"><img src="img/introduce.png" alt="配置参数介绍"></div>
    <p>主机：10.0.2.15:1080<br>本机 IP：10.0.2.15<br>App 端口：1080<br>请将示例中的 IP 和端口替换为你本机的实际值。<br>如提示 Listener Port 不可用或被占用，可在 1024–49151 范围内任选一个端口，功能没有区别。</p>
    <h2>主机端（有VPN）步骤</h2>
    <ol>
      <li>打开 App，选代理模式（推荐“自动识别”）和端口（默认 1080）。</li>
      <li>确认主机与客户端同局域网，端口未被占用。</li>
      <li>点击“启动网关”，保持前台服务运行。</li>
    </ol>
    <h2>全量 VPN 代理</h2>
    <p>在其他设备安装 Clash，先下载下方生成的 YAML 文件，再在 Clash 中通过“导入文件”添加配置（暂不支持通过链接直接订阅）。适合需要全局代理的场景。输入的 IP 和端口必须与主机端（有 VPN）启动的服务保持一致。</p>
    <div class="yaml-generator" data-invalid-ip="请输入正确的 IP 地址。" data-invalid-port="请输入正确的端口（1–65535）。" data-output-prefix="生成链接：">
      <div class="yaml-form">
        <input class="yaml-input" type="text" inputmode="decimal" placeholder="请输入 IP">
        <input class="yaml-input" type="text" inputmode="numeric" placeholder="请输入端口">
        <button type="button">生成 YAML 链接</button>
      </div>
      <div class="yaml-output" aria-live="polite"></div>
    </div>
    <p>Clash 下载地址： <a href="https://github.com/clashdownload/Clash">https://github.com/clashdownload/Clash</a></p>
    <h2>局域网代理 / Wi‑Fi 局域网代理</h2>
    <ul>
      <li><strong>Android</strong>：Wi‑Fi 详情→代理=手动，主机名填本机 IP，端口填 App 端口；或在支持代理的应用中填写 HTTP/HTTPS。
        <div class="guide-image"><img src="img/guide_android.png" alt="Android 代理设置示意图"></div>
      </li>
      <li><strong>iOS</strong>：设置→Wi‑Fi→当前网络→配置代理=手动，服务器填本机 IP，端口填 App 端口（HTTP/HTTPS）。
        <div class="guide-image"><img src="img/guide_ios.png" alt="iOS 代理设置示意图"></div>
      </li>
      <li><strong>Windows</strong>：设置→网络和 Internet→代理→手动代理，地址=本机 IP，端口=App 端口（HTTP/HTTPS）。<br>代理忽略项：localhost;127.*;192.168.*;10.*;172.16.*;172.17.*;172.18.*;172.19.*;172.20.*;172.21.*;172.22.*;172.23.*;172.24.*;172.25.*;172.26.*;172.27.*;172.28.*;172.29.*;172.30.*;172.31.*。
        <div class="copy-row"><button type="button" class="copy-btn" data-copy="localhost;127.*;192.168.*;10.*;172.16.*;172.17.*;172.18.*;172.19.*;172.20.*;172.21.*;172.22.*;172.23.*;172.24.*;172.25.*;172.26.*;172.27.*;172.28.*;172.29.*;172.30.*;172.31.*"></button></div>
        <div class="guide-image"><img src="img/guide_window.png" alt="Windows 代理设置示意图"></div>
      </li>
      <li><strong>macOS</strong>：系统设置→网络→当前接口→详情→代理，勾选 HTTP/HTTPS（或 SOCKS5），服务器=本机 IP，端口=App 端口。
        <div class="proxy-bypass"><span class="proxy-bypass-label"></span> 127.0.0.1,192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,172.29.0.0/16,localhost,*.local,*.crashlytics.com,<local>,919dm*</div>
        <div class="copy-row"><button type="button" class="copy-btn" data-copy="127.0.0.1,192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,172.29.0.0/16,localhost,*.local,*.crashlytics.com,<local>,919dm*"></button></div>
        <div class="guide-image"><img src="img/guide_mac.png" alt="macOS 代理设置示意图"></div>
      </li>
      <li><strong>其他设备</strong>：在支持的 HTTP/HTTPS/SOCKS5 代理入口手动填本机 IP + 端口。</li>
    </ul>
    <h2>增强模式</h2>
    <p>部分 VPN 会阻止局域网内其他设备入站到本机，导致无法访问代理服务，从而 VPN 分享失效。增强模式通过增加一个协同设备，将代理服务转移到协同设备上。本机（运行 VPN 的设备）出站访问协同设备，带回数据后再由本机发起请求。</p>
    <p>若在正确配置后其他局域网设备仍无法访问代理，请开启增强模式。协同设备也可以像其他设备一样配置代理，使用主设备的 VPN。</p>
    <p class="notice-green"><strong>重要：</strong>协同设备如需使用 Clash 全量 VPN 代理，请先关闭 VPN 与主设备建立连接，连接成功后再开启 VPN。目前主设备与协同设备的判定依据是是否启用 VPN。</p>
    <p class="notice-green"><strong>重要：</strong>协同设备如需使用 Clash 全量 VPN 代理，请先关闭 VPN 与主设备建立连接，连接成功后再开启 VPN。目前主设备与协同设备的判定依据是是否启用 VPN。</p>
  </div>

  <div class="lang" data-lang="ar">
    <h2>الغرض</h2>
    <p>استخدم الجهاز كبوابة وكيل داخل نفس شبكة Wi‑Fi/نقطة الاتصال؛ تُمرَّر حركة الأجهزة الأخرى عبر هذا المضيف (يمكن تكديس VPN المضيف). يدعم الاتصال المتزامن لعدة أجهزة.</p>
    <h2>شرح معلمات الإعداد</h2>
    <div class="guide-image"><img src="img/introduce.png" alt="شرح معلمات الإعداد"></div>
    <p>المضيف: 10.0.2.15:1080<br>عنوان IP للمضيف: 10.0.2.15<br>منفذ التطبيق: 1080<br>استبدل قيم IP والمنفذ في المثال بالقيم الفعلية لجهازك.<br>إذا أظهر Listener Port أنه غير متاح أو قيد الاستخدام، فاختر أي منفذ بين 1024–49151؛ لا يوجد فرق في الوظيفة.</p>
    <h2>خطوات المضيف (مع VPN)</h2>
    <ol>
      <li>افتح التطبيق، واختر وضع الوكيل (يُنصح بـ “اكتشاف تلقائي”) والمنفذ (الافتراضي 1080). الإصدار الحالي يوجّه كل الحركة عبر الوكيل.</li>
      <li>تأكد أن المضيف والعميل على نفس شبكة LAN وأن المنفذ غير مشغول.</li>
      <li>اضغط “بدء البوابة” وابقَ على الخدمة في الواجهة.</li>
    </ol>
    <h2>وكيل VPN كامل النطاق</h2>
    <p>ثبّت Clash على جهاز آخر، ثم نزّل ملف YAML المُنشأ أولًا، وبعدها استورده في Clash عبر استيراد ملف (الاشتراك المباشر عبر الرابط غير مدعوم حاليًا). استخدمه عندما تريد توجيه كل حركة الجهاز عبر الـVPN. يجب أن يطابق عنوان IP والمنفذ خدمة المضيف (مع VPN) التي قمت بتشغيلها.</p>
    <div class="yaml-generator" data-invalid-ip="يرجى إدخال عنوان IP صالح." data-invalid-port="يرجى إدخال منفذ صالح (1–65535)." data-output-prefix="الرابط المُنشأ: ">
      <div class="yaml-form">
        <input class="yaml-input" type="text" inputmode="decimal" placeholder="أدخل IP">
        <input class="yaml-input" type="text" inputmode="numeric" placeholder="أدخل المنفذ">
        <button type="button">إنشاء رابط YAML</button>
      </div>
      <div class="yaml-output" aria-live="polite"></div>
    </div>
    <p>تنزيل Clash: <a href="https://github.com/clashdownload/Clash">https://github.com/clashdownload/Clash</a></p>
    <h2>وكيل LAN / وكيل Wi‑Fi LAN</h2>
    <ul>
      <li><strong>Android</strong>: تفاصيل Wi‑Fi → الوكيل = يدوي؛ الخادم = IP لهذا الجهاز، المنفذ = منفذ التطبيق. أو املأ HTTP/HTTPS في التطبيقات.
        <div class="guide-image"><img src="img/guide_android.png" alt="إعداد وكيل Android"></div>
      </li>
      <li><strong>iOS</strong>: الإعدادات → Wi‑Fi → الشبكة الحالية → تكوين الوكيل = يدوي؛ الخادم = IP المضيف، المنفذ = منفذ التطبيق (HTTP/HTTPS).
        <div class="guide-image"><img src="img/guide_ios.png" alt="إعداد وكيل iOS"></div>
      </li>
      <li><strong>Windows</strong>: الإعدادات → الشبكة والإنترنت → الوكيل → يدوي؛ العنوان = IP المضيف، المنفذ = منفذ التطبيق (HTTP/HTTPS)؛ قائمة التجاهل: localhost;127.*;192.168.*;10.*;172.16.*;172.17.*;172.18.*;172.19.*;172.20.*;172.21.*;172.22.*;172.23.*;172.24.*;172.25.*;172.26.*;172.27.*;172.28.*;172.29.*;172.30.*;172.31.*.
        <div class="copy-row"><button type="button" class="copy-btn" data-copy="localhost;127.*;192.168.*;10.*;172.16.*;172.17.*;172.18.*;172.19.*;172.20.*;172.21.*;172.22.*;172.23.*;172.24.*;172.25.*;172.26.*;172.27.*;172.28.*;172.29.*;172.30.*;172.31.*"></button></div>
        <div class="guide-image"><img src="img/guide_window.png" alt="إعداد وكيل Windows"></div>
      </li>
      <li><strong>macOS</strong>: إعدادات النظام → الشبكة → الواجهة الحالية → التفاصيل → الوكلاء؛ فعّل HTTP/HTTPS (أو SOCKS5)، الخادم = IP المضيف، المنفذ = منفذ التطبيق.
        <div class="proxy-bypass"><span class="proxy-bypass-label"></span> 127.0.0.1,192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,172.29.0.0/16,localhost,*.local,*.crashlytics.com,<local>,919dm*</div>
        <div class="copy-row"><button type="button" class="copy-btn" data-copy="127.0.0.1,192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,172.29.0.0/16,localhost,*.local,*.crashlytics.com,<local>,919dm*"></button></div>
        <div class="guide-image"><img src="img/guide_mac.png" alt="إعداد وكيل macOS"></div>
      </li>
      <li><strong>أجهزة أخرى</strong>: أدخل IP المضيف + المنفذ في إعدادات وكيل HTTP/HTTPS/SOCKS5 المدعومة.</li>
    </ul>
    <h2>الوضع المعزز</h2>
    <p>تمنع بعض شبكات VPN الاتصالات الواردة من أجهزة LAN الأخرى، لذلك لا يمكنها الوصول إلى خدمة الوكيل على هذا المضيف وتفشل مشاركة VPN. يضيف الوضع المعزز جهازًا مساعدًا وينقل خدمة الوكيل إليه. يتصل هذا المضيف (مع VPN) بالخارج بجهاز المساعدة، يعيد البيانات ثم ينفّذ الطلبات محليًا.</p>
    <p>إذا لم تتمكن أجهزة LAN الأخرى من الوصول إلى الوكيل بعد الإعداد الصحيح، فعّل الوضع المعزز. يمكن للجهاز المساعد إعداد الوكيل مثل باقي الأجهزة لاستخدام VPN على الجهاز الرئيسي.</p>
    <p class="notice-green"><strong>مهم:</strong> إذا كان جهاز المساعدة يحتاج أيضًا إلى وكيل VPN كامل النطاق عبر Clash، فأوقف الـVPN أولًا واتصل بالجهاز الرئيسي، ثم فعّل الـVPN بعد نجاح الاتصال. يعتمد تحديد الدور حاليًا على ما إذا كان الـVPN مفعّلًا.</p>
  </div>

  <div class="lang" data-lang="de">
    <h2>Zweck</h2>
    <p>Nutze dieses Gerät im selben Wi‑Fi/Hotspot als LAN‑Proxy-Gateway; andere Geräte leiten den Verkehr über diesen Host (VPN des Hosts kann gestapelt werden). Unterstützt gleichzeitige Verbindungen mehrerer Geräte.</p>
    <h2>Konfigurationsparameter</h2>
    <div class="guide-image"><img src="img/introduce.png" alt="Konfigurationsparameter"></div>
    <p>Host: 10.0.2.15:1080<br>Host-IP: 10.0.2.15<br>App-Port: 1080<br>Ersetze die Beispiel‑IP und den Port durch die tatsächlichen Werte deines Geräts.<br>Wenn der Listener-Port nicht verfügbar oder belegt ist, wähle einen beliebigen Port zwischen 1024–49151; die Funktion bleibt gleich.</p>
    <h2>Schritte auf dem Host (mit VPN)</h2>
    <ol>
      <li>App öffnen, Proxy-Modus wählen (empfohlen „Automatisch erkennen“) und Port wählen (Standard 1080). Aktuelle Version routet den gesamten Verkehr über den Proxy.</li>
      <li>Sicherstellen, dass Host und Clients im selben LAN sind und der Port frei ist.</li>
      <li>„Gateway starten“ tippen und den Vordergrunddienst aktiv lassen.</li>
    </ol>
    <h2>Volltunnel‑VPN‑Proxy</h2>
    <p>Installiere Clash auf einem anderen Gerät, lade die erzeugte YAML‑Datei zuerst herunter und importiere sie dann in Clash per Dateiimport (direktes Link‑Abonnement wird derzeit nicht unterstützt). Für vollständiges Geräte‑Routing. IP und Port müssen mit dem gestarteten Host‑Dienst (mit VPN) übereinstimmen.</p>
    <div class="yaml-generator" data-invalid-ip="Bitte eine gültige IP-Adresse eingeben." data-invalid-port="Bitte einen gültigen Port (1–65535) eingeben." data-output-prefix="Generierter Link: ">
      <div class="yaml-form">
        <input class="yaml-input" type="text" inputmode="decimal" placeholder="IP eingeben">
        <input class="yaml-input" type="text" inputmode="numeric" placeholder="Port eingeben">
        <button type="button">YAML‑Link erzeugen</button>
      </div>
      <div class="yaml-output" aria-live="polite"></div>
    </div>
    <p>Clash‑Download: <a href="https://github.com/clashdownload/Clash">https://github.com/clashdownload/Clash</a></p>
    <h2>LAN‑Proxy / Wi‑Fi‑LAN‑Proxy</h2>
    <ul>
      <li><strong>Android</strong>: WLAN-Details → Proxy = Manuell; Host = IP dieses Geräts, Port = App-Port. Oder HTTP/HTTPS in Apps eintragen.
        <div class="guide-image"><img src="img/guide_android.png" alt="Android-Proxy-Einrichtung"></div>
      </li>
      <li><strong>iOS</strong>: Einstellungen → WLAN → aktuelles Netzwerk → Proxy konfigurieren = Manuell; Server = Host-IP, Port = App-Port (HTTP/HTTPS).
        <div class="guide-image"><img src="img/guide_ios.png" alt="iOS-Proxy-Einrichtung"></div>
      </li>
      <li><strong>Windows</strong>: Einstellungen → Netzwerk & Internet → Proxy → Manuell; Adresse = Host-IP, Port = App-Port (HTTP/HTTPS); Proxy-Ausnahmen: localhost;127.*;192.168.*;10.*;172.16.*;172.17.*;172.18.*;172.19.*;172.20.*;172.21.*;172.22.*;172.23.*;172.24.*;172.25.*;172.26.*;172.27.*;172.28.*;172.29.*;172.30.*;172.31.*.
        <div class="copy-row"><button type="button" class="copy-btn" data-copy="localhost;127.*;192.168.*;10.*;172.16.*;172.17.*;172.18.*;172.19.*;172.20.*;172.21.*;172.22.*;172.23.*;172.24.*;172.25.*;172.26.*;172.27.*;172.28.*;172.29.*;172.30.*;172.31.*"></button></div>
        <div class="guide-image"><img src="img/guide_window.png" alt="Windows-Proxy-Einrichtung"></div>
      </li>
      <li><strong>macOS</strong>: Systemeinstellungen → Netzwerk → aktuelle Schnittstelle → Details → Proxys; HTTP/HTTPS (oder SOCKS5) markieren, Server = Host-IP, Port = App-Port.
        <div class="proxy-bypass"><span class="proxy-bypass-label"></span> 127.0.0.1,192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,172.29.0.0/16,localhost,*.local,*.crashlytics.com,<local>,919dm*</div>
        <div class="copy-row"><button type="button" class="copy-btn" data-copy="127.0.0.1,192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,172.29.0.0/16,localhost,*.local,*.crashlytics.com,<local>,919dm*"></button></div>
        <div class="guide-image"><img src="img/guide_mac.png" alt="macOS-Proxy-Einrichtung"></div>
      </li>
      <li><strong>Andere Geräte</strong>: Host-IP + Port in den HTTP/HTTPS/SOCKS5-Proxyfeldern des Geräts/der App eintragen.</li>
    </ul>
    <h2>Erweiterter Modus</h2>
    <p>Einige VPNs blockieren eingehende Verbindungen von anderen LAN‑Geräten, sodass diese den Proxy‑Dienst auf diesem Host nicht erreichen und das VPN‑Sharing fehlschlägt. Der erweiterte Modus fügt ein Begleitgerät hinzu und verlagert den Proxy‑Dienst dorthin. Dieser Host (mit VPN) verbindet sich ausgehend mit dem Begleitgerät, bringt die Daten zurück und führt die Anfragen lokal aus.</p>
    <p>Wenn andere LAN‑Geräte trotz korrekter Einstellungen nicht auf den Proxy zugreifen können, aktiviere den erweiterten Modus. Das Begleitgerät kann wie andere Clients einen Proxy einrichten, um das VPN des Hauptgeräts zu nutzen.</p>
    <p class="notice-green"><strong>Wichtig:</strong> Wenn das Begleitgerät ebenfalls den Clash‑Volltunnel‑VPN‑Proxy nutzen soll, schalte das VPN zuerst aus und stelle die Verbindung zum Hauptgerät her; aktiviere das VPN erst nach erfolgreicher Verbindung. Die Geräteerkennung basiert derzeit darauf, ob VPN aktiviert ist.</p>
  </div>

  <div class="lang" data-lang="es">
    <h2>Propósito</h2>
    <p>Usa este dispositivo como puerta de enlace proxy en la misma red Wi‑Fi/punto de acceso; los demás equipos envían su tráfico a través de este host (puede combinarse con la VPN del host). Admite conexiones simultáneas de varios dispositivos.</p>
    <h2>Parámetros de configuración</h2>
    <div class="guide-image"><img src="img/introduce.png" alt="Parámetros de configuración"></div>
    <p>Host: 10.0.2.15:1080<br>IP del host: 10.0.2.15<br>Puerto de la app: 1080<br>Sustituye la IP y el puerto de ejemplo por los valores reales de tu dispositivo.<br>Si el Listener Port no está disponible o está en uso, elige cualquier puerto entre 1024–49151; la funcionalidad es la misma.</p>
    <h2>Pasos en el host (con VPN)</h2>
    <ol>
      <li>Abre la app, elige el modo de proxy (se recomienda “Detección automática”) y el puerto (predeterminado 1080). La versión actual dirige todo el tráfico por el proxy.</li>
      <li>Asegúrate de que el host y los clientes estén en la misma LAN y que el puerto esté libre.</li>
      <li>Toca “Iniciar gateway” y mantén vivo el servicio en primer plano.</li>
    </ol>
    <h2>Proxy VPN de túnel completo</h2>
    <p>Instala Clash en otro dispositivo, descarga primero el YAML generado y luego impórtalo en Clash mediante importación de archivo (la suscripción directa por enlace no es compatible por ahora). Úsalo cuando necesites proxy a nivel de todo el dispositivo. La IP y el puerto deben coincidir con el servicio del host (con VPN) que iniciaste.</p>
    <div class="yaml-generator" data-invalid-ip="Introduce una IP válida." data-invalid-port="Introduce un puerto válido (1–65535)." data-output-prefix="Enlace generado: ">
      <div class="yaml-form">
        <input class="yaml-input" type="text" inputmode="decimal" placeholder="Introduce IP">
        <input class="yaml-input" type="text" inputmode="numeric" placeholder="Introduce puerto">
        <button type="button">Generar enlace YAML</button>
      </div>
      <div class="yaml-output" aria-live="polite"></div>
    </div>
    <p>Descarga de Clash: <a href="https://github.com/clashdownload/Clash">https://github.com/clashdownload/Clash</a></p>
    <h2>Proxy LAN / Proxy LAN por Wi‑Fi</h2>
    <ul>
      <li><strong>Android</strong>: Detalles de Wi‑Fi → Proxy = Manual; host = IP de este dispositivo, puerto = puerto de la app. O configura HTTP/HTTPS en las apps.
        <div class="guide-image"><img src="img/guide_android.png" alt="Configuración de proxy en Android"></div>
      </li>
      <li><strong>iOS</strong>: Ajustes → Wi‑Fi → red actual → Configurar proxy = Manual; servidor = IP del host, puerto = puerto de la app (HTTP/HTTPS).
        <div class="guide-image"><img src="img/guide_ios.png" alt="Configuración de proxy en iOS"></div>
      </li>
      <li><strong>Windows</strong>: Configuración → Red e Internet → Proxy → Manual; dirección = IP del host, puerto = puerto de la app (HTTP/HTTPS); excepciones del proxy: localhost;127.*;192.168.*;10.*;172.16.*;172.17.*;172.18.*;172.19.*;172.20.*;172.21.*;172.22.*;172.23.*;172.24.*;172.25.*;172.26.*;172.27.*;172.28.*;172.29.*;172.30.*;172.31.*.
        <div class="copy-row"><button type="button" class="copy-btn" data-copy="localhost;127.*;192.168.*;10.*;172.16.*;172.17.*;172.18.*;172.19.*;172.20.*;172.21.*;172.22.*;172.23.*;172.24.*;172.25.*;172.26.*;172.27.*;172.28.*;172.29.*;172.30.*;172.31.*"></button></div>
        <div class="guide-image"><img src="img/guide_window.png" alt="Configuración de proxy en Windows"></div>
      </li>
      <li><strong>macOS</strong>: Ajustes del sistema → Red → interfaz actual → Detalles → Proxies; marca HTTP/HTTPS (o SOCKS5), servidor = IP del host, puerto = puerto de la app.
        <div class="proxy-bypass"><span class="proxy-bypass-label"></span> 127.0.0.1,192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,172.29.0.0/16,localhost,*.local,*.crashlytics.com,<local>,919dm*</div>
        <div class="copy-row"><button type="button" class="copy-btn" data-copy="127.0.0.1,192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,172.29.0.0/16,localhost,*.local,*.crashlytics.com,<local>,919dm*"></button></div>
        <div class="guide-image"><img src="img/guide_mac.png" alt="Configuración de proxy en macOS"></div>
      </li>
      <li><strong>Otros dispositivos</strong>: introduce IP del host + puerto en los ajustes de proxy HTTP/HTTPS/SOCKS5 que el equipo o la app admitan.</li>
    </ul>
    <h2>Modo mejorado</h2>
    <p>Algunas VPN bloquean las conexiones entrantes de otros dispositivos de la LAN, por lo que no pueden acceder al servicio de proxy en este host y el uso compartido de VPN falla. El modo mejorado añade un dispositivo colaborador y traslada allí el servicio de proxy. Este host (con VPN) se conecta hacia afuera al dispositivo colaborador, trae los datos y luego realiza las solicitudes localmente.</p>
    <p>Si otros dispositivos de la LAN aún no pueden acceder al proxy con la configuración correcta, activa el modo mejorado. El dispositivo colaborador puede configurar el proxy como los demás equipos para usar la VPN del dispositivo principal.</p>
    <p class="notice-green"><strong>Importante:</strong> Si el dispositivo colaborador también necesita el proxy VPN de túnel completo con Clash, primero desactiva el VPN y conéctalo al dispositivo principal; después de conectar correctamente, activa el VPN. La detección del rol del dispositivo actualmente depende de si el VPN está activado.</p>
  </div>

  <div class="lang" data-lang="fa">
    <h2>هدف</h2>
    <p>از این دستگاه در همان شبکه Wi‑Fi/هات‌اسپات به‌عنوان درگاه پروکسی LAN استفاده کنید؛ ترافیک سایر دستگاه‌ها از این میزبان عبور می‌کند (می‌توان آن را با VPN میزبان ترکیب کرد). از اتصال همزمان چند دستگاه پشتیبانی می‌کند.</p>
    <h2>پارامترهای پیکربندی</h2>
    <div class="guide-image"><img src="img/introduce.png" alt="پارامترهای پیکربندی"></div>
    <p>میزبان: 10.0.2.15:1080<br>IP میزبان: 10.0.2.15<br>پورت برنامه: 1080<br>آی‌پی و پورت نمونه را با مقادیر واقعی دستگاه خود جایگزین کنید.<br>اگر Listener Port در دسترس نبود یا اشغال بود، هر پورتی بین 1024–49151 را انتخاب کنید؛ عملکرد تفاوتی ندارد.</p>
    <h2>مراحل میزبان (با VPN)</h2>
    <ol>
      <li>اپ را باز کنید، حالت پروکسی (پیشنهاد «تشخیص خودکار») و پورت (پیش‌فرض 1080) را برگزینید. نسخه فعلی تمام ترافیک را از طریق پروکسی هدایت می‌کند.</li>
      <li>مطمئن شوید میزبان و کلاینت در یک LAN هستند و پورت اشغال نشده است.</li>
      <li>روی «شروع درگاه» بزنید و سرویس پیش‌زمینه را فعال نگه دارید.</li>
    </ol>
    <h2>پروکسی VPN تمام‌ترافیک</h2>
    <p>روی یک دستگاه دیگر Clash را نصب کنید، ابتدا فایل YAML تولیدشده را دانلود کنید و سپس از طریق ایمپورت فایل در Clash اضافه کنید (در حال حاضر اشتراک مستقیم از طریق لینک پشتیبانی نمی‌شود). مناسب برای پروکسی سراسری دستگاه. IP و پورت باید با سرویس میزبان (با VPN) که اجرا کرده‌اید یکسان باشد.</p>
    <div class="yaml-generator" data-invalid-ip="لطفاً یک IP معتبر وارد کنید." data-invalid-port="لطفاً یک پورت معتبر وارد کنید (1–65535)." data-output-prefix="لینک تولیدشده: ">
      <div class="yaml-form">
        <input class="yaml-input" type="text" inputmode="decimal" placeholder="IP را وارد کنید">
        <input class="yaml-input" type="text" inputmode="numeric" placeholder="پورت را وارد کنید">
        <button type="button">ایجاد لینک YAML</button>
      </div>
      <div class="yaml-output" aria-live="polite"></div>
    </div>
    <p>دانلود Clash: <a href="https://github.com/clashdownload/Clash">https://github.com/clashdownload/Clash</a></p>
    <h2>پروکسی LAN / پروکسی LAN از طریق Wi‑Fi</h2>
    <ul>
      <li><strong>Android</strong>: جزئیات Wi‑Fi → پروکسی = دستی؛ سرور = IP این دستگاه، پورت = پورت اپ. یا در اپ‌های پشتیبان، HTTP/HTTPS را پر کنید.
        <div class="guide-image"><img src="img/guide_android.png" alt="تنظیم پراکسی Android"></div>
      </li>
      <li><strong>iOS</strong>: تنظیمات → Wi‑Fi → شبکه فعلی → پیکربندی پروکسی = دستی؛ سرور = IP میزبان، پورت = پورت اپ (HTTP/HTTPS).
        <div class="guide-image"><img src="img/guide_ios.png" alt="تنظیم پراکسی iOS"></div>
      </li>
      <li><strong>Windows</strong>: تنظیمات → شبکه و اینترنت → پروکسی → دستی؛ آدرس = IP میزبان، پورت = پورت اپ (HTTP/HTTPS)؛ فهرست استثنا: localhost;127.*;192.168.*;10.*;172.16.*;172.17.*;172.18.*;172.19.*;172.20.*;172.21.*;172.22.*;172.23.*;172.24.*;172.25.*;172.26.*;172.27.*;172.28.*;172.29.*;172.30.*;172.31.*.
        <div class="copy-row"><button type="button" class="copy-btn" data-copy="localhost;127.*;192.168.*;10.*;172.16.*;172.17.*;172.18.*;172.19.*;172.20.*;172.21.*;172.22.*;172.23.*;172.24.*;172.25.*;172.26.*;172.27.*;172.28.*;172.29.*;172.30.*;172.31.*"></button></div>
        <div class="guide-image"><img src="img/guide_window.png" alt="تنظیم پراکسی Windows"></div>
      </li>
      <li><strong>macOS</strong>: تنظیمات سیستم → شبکه → رابط فعلی → جزئیات → پروکسی‌ها؛ HTTP/HTTPS (یا SOCKS5) را تیک بزنید، سرور = IP میزبان، پورت = پورت اپ.
        <div class="proxy-bypass"><span class="proxy-bypass-label"></span> 127.0.0.1,192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,172.29.0.0/16,localhost,*.local,*.crashlytics.com,<local>,919dm*</div>
        <div class="copy-row"><button type="button" class="copy-btn" data-copy="127.0.0.1,192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,172.29.0.0/16,localhost,*.local,*.crashlytics.com,<local>,919dm*"></button></div>
        <div class="guide-image"><img src="img/guide_mac.png" alt="تنظیم پراکسی macOS"></div>
      </li>
      <li><strong>دستگاه‌های دیگر</strong>: در تنظیمات پروکسی HTTP/HTTPS/SOCKS5 پشتیبانی‌شده، IP میزبان + پورت را وارد کنید.</li>
    </ul>
    <h2>حالت تقویت‌شده</h2>
    <p>برخی VPNها اتصال‌های ورودی از دستگاه‌های دیگر در LAN را مسدود می‌کنند، بنابراین دستگاه‌ها نمی‌توانند به سرویس پراکسی روی این میزبان دسترسی پیدا کنند و اشتراک VPN از کار می‌افتد. حالت تقویت‌شده یک دستگاه همکار اضافه می‌کند و سرویس پراکسی را به آن منتقل می‌کند. این میزبان (با VPN) به‌صورت خروجی به دستگاه همکار متصل می‌شود، داده را برمی‌گرداند و سپس درخواست‌ها را محلی انجام می‌دهد.</p>
    <p>اگر دستگاه‌های دیگر LAN با وجود تنظیمات صحیح هنوز به پراکسی دسترسی ندارند، حالت تقویت‌شده را فعال کنید. دستگاه همکار می‌تواند مانند سایر دستگاه‌ها پراکسی را تنظیم کند و از VPN دستگاه اصلی استفاده کند.</p>
    <p class="notice-green"><strong>مهم:</strong> اگر دستگاه همکار هم نیاز به پراکسی VPN تمام‌ترافیک Clash دارد، ابتدا VPN را خاموش کرده و به دستگاه اصلی متصل شوید، سپس پس از اتصال موفق VPN را روشن کنید. تشخیص نقش دستگاه‌ها در حال حاضر براساس فعال بودن VPN است.</p>
  </div>

  <div class="lang" data-lang="fr">
    <h2>Objet</h2>
    <p>Utilisez cet appareil comme passerelle proxy LAN sur le même Wi‑Fi/point d’accès ; les autres appareils font transiter leur trafic via cet hôte (VPN du serveur hôte possible). Prend en charge les connexions simultanées de plusieurs appareils.</p>
    <h2>Paramètres de configuration</h2>
    <div class="guide-image"><img src="img/introduce.png" alt="Paramètres de configuration"></div>
    <p>Hôte : 10.0.2.15:1080<br>IP de l’hôte : 10.0.2.15<br>Port de l’app : 1080<br>Remplacez l’IP et le port d’exemple par les valeurs réelles de votre appareil.<br>Si le Listener Port est indisponible ou occupé, choisissez n’importe quel port entre 1024–49151 ; la fonctionnalité est identique.</p>
    <h2>Étapes côté hôte (avec VPN)</h2>
    <ol>
      <li>Ouvrez l’app, choisissez le mode proxy (recommandé « Détection auto ») et le port (1080 par défaut). La version actuelle force tout le trafic via ce proxy.</li>
      <li>Vérifiez que l’hôte et les clients sont sur le même LAN et que le port est libre.</li>
      <li>Appuyez sur « Démarrer la passerelle » et maintenez le service au premier plan.</li>
    </ol>
    <h2>Proxy VPN tunnel complet</h2>
    <p>Installez Clash sur un autre appareil, téléchargez d’abord le YAML généré, puis importez‑le dans Clash via l’import de fichier (l’abonnement direct par lien n’est pas pris en charge pour l’instant). À utiliser pour un proxy global de l’appareil. L’IP et le port doivent correspondre au service hôte (avec VPN) démarré.</p>
    <div class="yaml-generator" data-invalid-ip="Veuillez saisir une adresse IP valide." data-invalid-port="Veuillez saisir un port valide (1–65535)." data-output-prefix="Lien généré : ">
      <div class="yaml-form">
        <input class="yaml-input" type="text" inputmode="decimal" placeholder="Saisir IP">
        <input class="yaml-input" type="text" inputmode="numeric" placeholder="Saisir le port">
        <button type="button">Générer le lien YAML</button>
      </div>
      <div class="yaml-output" aria-live="polite"></div>
    </div>
    <p>Téléchargement Clash : <a href="https://github.com/clashdownload/Clash">https://github.com/clashdownload/Clash</a></p>
    <h2>Proxy LAN / Proxy LAN via Wi‑Fi</h2>
    <ul>
      <li><strong>Android</strong> : Détails Wi‑Fi → Proxy = Manuel ; hôte = IP de cet appareil, port = port de l’app. Ou renseignez HTTP/HTTPS dans les apps.
        <div class="guide-image"><img src="img/guide_android.png" alt="Configuration proxy Android"></div>
      </li>
      <li><strong>iOS</strong> : Réglages → Wi‑Fi → réseau actuel → Configurer le proxy = Manuel ; serveur = IP hôte, port = port de l’app (HTTP/HTTPS).
        <div class="guide-image"><img src="img/guide_ios.png" alt="Configuration proxy iOS"></div>
      </li>
      <li><strong>Windows</strong> : Paramètres → Réseau et Internet → Proxy → Manuel ; adresse = IP hôte, port = port de l’app (HTTP/HTTPS) ; exceptions proxy : localhost;127.*;192.168.*;10.*;172.16.*;172.17.*;172.18.*;172.19.*;172.20.*;172.21.*;172.22.*;172.23.*;172.24.*;172.25.*;172.26.*;172.27.*;172.28.*;172.29.*;172.30.*;172.31.*.
        <div class="copy-row"><button type="button" class="copy-btn" data-copy="localhost;127.*;192.168.*;10.*;172.16.*;172.17.*;172.18.*;172.19.*;172.20.*;172.21.*;172.22.*;172.23.*;172.24.*;172.25.*;172.26.*;172.27.*;172.28.*;172.29.*;172.30.*;172.31.*"></button></div>
        <div class="guide-image"><img src="img/guide_window.png" alt="Configuration proxy Windows"></div>
      </li>
      <li><strong>macOS</strong> : Réglages Système → Réseau → interface actuelle → Détails → Proxys ; cochez HTTP/HTTPS (ou SOCKS5), serveur = IP hôte, port = port de l’app.
        <div class="proxy-bypass"><span class="proxy-bypass-label"></span> 127.0.0.1,192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,172.29.0.0/16,localhost,*.local,*.crashlytics.com,<local>,919dm*</div>
        <div class="copy-row"><button type="button" class="copy-btn" data-copy="127.0.0.1,192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,172.29.0.0/16,localhost,*.local,*.crashlytics.com,<local>,919dm*"></button></div>
        <div class="guide-image"><img src="img/guide_mac.png" alt="Configuration proxy macOS"></div>
      </li>
      <li><strong>Autres appareils</strong> : renseignez IP hôte + port dans les paramètres proxy HTTP/HTTPS/SOCKS5 pris en charge.</li>
    </ul>
    <h2>Mode renforcé</h2>
    <p>Certains VPN bloquent les connexions entrantes des autres appareils du LAN, ce qui empêche d’atteindre le service proxy sur cet hôte et fait échouer le partage VPN. Le mode renforcé ajoute un appareil compagnon et déplace le service proxy dessus. Cet hôte (avec VPN) se connecte en sortie à l’appareil compagnon, récupère les données puis effectue les requêtes localement.</p>
    <p>Si les autres appareils du LAN ne peuvent toujours pas accéder au proxy malgré une configuration correcte, activez le mode renforcé. L’appareil compagnon peut configurer le proxy comme les autres clients afin d’utiliser le VPN de l’appareil principal.</p>
    <p class="notice-green"><strong>Important :</strong> si l’appareil compagnon doit aussi utiliser le proxy VPN tunnel complet via Clash, désactivez d’abord le VPN et connectez‑vous à l’appareil principal, puis réactivez le VPN après la connexion. La détection du rôle de l’appareil dépend actuellement du statut VPN.</p>
  </div>

  <div class="lang" data-lang="hi">
    <h2>उद्देश्य</h2>
    <p>उसी Wi‑Fi/हॉटस्पॉट में इस डिवाइस को LAN प्रॉक्सी गेटवे बनाएं; अन्य डिवाइस का ट्रैफ़िक इस होस्ट से होकर गुजरता है (होस्ट VPN को जोड़ सकते हैं)। कई डिवाइस एक साथ कनेक्ट हो सकते हैं।</p>
    <h2>कॉन्फ़िगरेशन पैरामीटर</h2>
    <div class="guide-image"><img src="img/introduce.png" alt="कॉन्फ़िगरेशन पैरामीटर"></div>
    <p>होस्ट: 10.0.2.15:1080<br>होस्ट IP: 10.0.2.15<br>ऐप पोर्ट: 1080<br>उदाहरण IP और पोर्ट को अपने डिवाइस के वास्तविक मानों से बदलें।<br>यदि Listener Port उपलब्ध नहीं है या उपयोग में है, तो 1024–49151 के बीच कोई भी पोर्ट चुनें; कार्यक्षमता समान रहती है।</p>
    <h2>होस्ट के चरण (VPN के साथ)</h2>
    <ol>
      <li>ऐप खोलें, प्रॉक्सी मोड चुनें (अनुशंसित “ऑटो-डिटेक्ट”) और पोर्ट चुनें (डिफ़ॉल्ट 1080)। वर्तमान संस्करण पूरा ट्रैफ़िक प्रॉक्सी से भेजता है।</li>
      <li>सुनिश्चित करें कि होस्ट और क्लाइंट एक ही LAN पर हैं और पोर्ट खाली है।</li>
      <li>“गेटवे शुरू करें” टैप करें और फोरग्राउंड सेवा को चालू रखें।</li>
    </ol>
    <h2>फुल‑टनल VPN प्रॉक्सी</h2>
    <p>किसी अन्य डिवाइस पर Clash इंस्टॉल करें, पहले जनरेट किए YAML को डाउनलोड करें और फिर Clash में फ़ाइल इम्पोर्ट से जोड़ें (लिंक से सीधे सब्सक्रिप्शन अभी समर्थित नहीं है)। जब आपको पूरे डिवाइस का प्रॉक्सी चाहिए तब उपयोग करें। IP और पोर्ट वही होने चाहिए जो होस्ट (VPN सहित) पर चालू सेवा में हैं।</p>
    <div class="yaml-generator" data-invalid-ip="कृपया सही IP दर्ज करें।" data-invalid-port="कृपया सही पोर्ट (1–65535) दर्ज करें।" data-output-prefix="जनरेट किया लिंक: ">
      <div class="yaml-form">
        <input class="yaml-input" type="text" inputmode="decimal" placeholder="IP दर्ज करें">
        <input class="yaml-input" type="text" inputmode="numeric" placeholder="पोर्ट दर्ज करें">
        <button type="button">YAML लिंक बनाएं</button>
      </div>
      <div class="yaml-output" aria-live="polite"></div>
    </div>
    <p>Clash डाउनलोड: <a href="https://github.com/clashdownload/Clash">https://github.com/clashdownload/Clash</a></p>
    <h2>LAN प्रॉक्सी / Wi‑Fi LAN प्रॉक्सी</h2>
    <ul>
      <li><strong>Android</strong>: Wi‑Fi विवरण → Proxy = Manual; होस्ट = इस डिवाइस का IP, पोर्ट = ऐप पोर्ट। या ऐप में HTTP/HTTPS भरें।
        <div class="guide-image"><img src="img/guide_android.png" alt="Android प्रॉक्सी सेटअप"></div>
      </li>
      <li><strong>iOS</strong>: Settings → Wi‑Fi → वर्तमान नेटवर्क → Configure Proxy = Manual; सर्वर = होस्ट IP, पोर्ट = ऐप पोर्ट (HTTP/HTTPS)।
        <div class="guide-image"><img src="img/guide_ios.png" alt="iOS प्रॉक्सी सेटअप"></div>
      </li>
      <li><strong>Windows</strong>: Settings → Network & Internet → Proxy → Manual; पता = होस्ट IP, पोर्ट = ऐप पोर्ट (HTTP/HTTPS); प्रॉक्सी बहिष्करण: localhost;127.*;192.168.*;10.*;172.16.*;172.17.*;172.18.*;172.19.*;172.20.*;172.21.*;172.22.*;172.23.*;172.24.*;172.25.*;172.26.*;172.27.*;172.28.*;172.29.*;172.30.*;172.31.*.
        <div class="copy-row"><button type="button" class="copy-btn" data-copy="localhost;127.*;192.168.*;10.*;172.16.*;172.17.*;172.18.*;172.19.*;172.20.*;172.21.*;172.22.*;172.23.*;172.24.*;172.25.*;172.26.*;172.27.*;172.28.*;172.29.*;172.30.*;172.31.*"></button></div>
        <div class="guide-image"><img src="img/guide_window.png" alt="Windows प्रॉक्सी सेटअप"></div>
      </li>
      <li><strong>macOS</strong>: System Settings → Network → वर्तमान इंटरफ़ेस → Details → Proxies; HTTP/HTTPS (या SOCKS5) चुनें, सर्वर = होस्ट IP, पोर्ट = ऐप पोर्ट।
        <div class="proxy-bypass"><span class="proxy-bypass-label"></span> 127.0.0.1,192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,172.29.0.0/16,localhost,*.local,*.crashlytics.com,<local>,919dm*</div>
        <div class="copy-row"><button type="button" class="copy-btn" data-copy="127.0.0.1,192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,172.29.0.0/16,localhost,*.local,*.crashlytics.com,<local>,919dm*"></button></div>
        <div class="guide-image"><img src="img/guide_mac.png" alt="macOS प्रॉक्सी सेटअप"></div>
      </li>
      <li><strong>अन्य डिवाइस</strong>: समर्थित HTTP/HTTPS/SOCKS5 प्रॉक्सी सेटिंग में होस्ट IP + पोर्ट भरें।</li>
    </ul>
    <h2>एन्हांस्ड मोड</h2>
    <p>कुछ VPN अन्य LAN डिवाइसों से आने वाले इनबाउंड कनेक्शन को ब्लॉक करते हैं, इसलिए वे इस होस्ट पर चल रहे प्रॉक्सी सर्विस तक नहीं पहुंच पाते और VPN शेयरिंग विफल हो जाती है। एन्हांस्ड मोड एक सहयोगी डिवाइस जोड़ता है और प्रॉक्सी सर्विस को उस डिवाइस पर शिफ्ट करता है। यह होस्ट (VPN के साथ) उस सहयोगी डिवाइस से आउटबाउंड कनेक्शन करता है, डेटा वापस लाता है और फिर लोकल रूप से अनुरोध करता है।</p>
    <p>यदि सही सेटिंग्स के बाद भी अन्य LAN डिवाइस प्रॉक्सी तक नहीं पहुंच पा रहे हों, तो एन्हांस्ड मोड चालू करें। सहयोगी डिवाइस अन्य डिवाइस की तरह प्रॉक्सी सेट करके मुख्य डिवाइस का VPN उपयोग कर सकता है।</p>
    <p class="notice-green"><strong>महत्वपूर्ण:</strong> यदि सहयोगी डिवाइस को भी Clash फुल‑टनल VPN प्रॉक्सी चाहिए, तो पहले VPN बंद करके मुख्य डिवाइस से कनेक्ट करें, कनेक्शन सफल होने के बाद VPN चालू करें। डिवाइस भूमिका की पहचान फिलहाल VPN के चालू होने पर निर्भर है।</p>
  </div>

  <div class="lang" data-lang="id">
    <h2>Tujuan</h2>
    <p>Gunakan perangkat ini sebagai gateway proxy LAN pada Wi‑Fi/hotspot yang sama; perangkat lain meneruskan trafik lewat host ini (bisa ditumpuk dengan VPN host). Mendukung koneksi simultan banyak perangkat.</p>
    <h2>Parameter konfigurasi</h2>
    <div class="guide-image"><img src="img/introduce.png" alt="Parameter konfigurasi"></div>
    <p>Host: 10.0.2.15:1080<br>IP host: 10.0.2.15<br>Port aplikasi: 1080<br>Ganti IP dan port contoh dengan nilai sebenarnya di perangkat Anda.<br>Jika Listener Port tidak tersedia atau sedang dipakai, pilih port apa pun antara 1024–49151; fungsinya sama.</p>
    <h2>Langkah di host (dengan VPN)</h2>
    <ol>
      <li>Buka app, pilih mode proxy (disarankan “Deteksi otomatis”) dan port (default 1080). Versi sekarang memaksa seluruh trafik lewat proxy.</li>
      <li>Pastikan host dan klien berada pada LAN yang sama dan port tidak dipakai.</li>
      <li>Ketuk “Mulai Gateway” dan biarkan layanan foreground tetap aktif.</li>
    </ol>
    <h2>Proxy VPN full‑tunnel</h2>
    <p>Instal Clash di perangkat lain, unduh dulu YAML yang dibuat, lalu impor di Clash lewat impor file (langganan langsung lewat tautan belum didukung). Cocok untuk proxy seluruh perangkat. IP dan port harus sama dengan layanan host (dengan VPN) yang kamu jalankan.</p>
    <div class="yaml-generator" data-invalid-ip="Masukkan alamat IP yang valid." data-invalid-port="Masukkan port yang valid (1–65535)." data-output-prefix="Tautan dibuat: ">
      <div class="yaml-form">
        <input class="yaml-input" type="text" inputmode="decimal" placeholder="Masukkan IP">
        <input class="yaml-input" type="text" inputmode="numeric" placeholder="Masukkan port">
        <button type="button">Buat tautan YAML</button>
      </div>
      <div class="yaml-output" aria-live="polite"></div>
    </div>
    <p>Unduh Clash: <a href="https://github.com/clashdownload/Clash">https://github.com/clashdownload/Clash</a></p>
    <h2>Proxy LAN / Proxy LAN Wi‑Fi</h2>
    <ul>
      <li><strong>Android</strong>: Detail Wi‑Fi → Proxy = Manual; host = IP perangkat ini, port = port app. Atau isi HTTP/HTTPS di aplikasi.
        <div class="guide-image"><img src="img/guide_android.png" alt="Pengaturan proxy Android"></div>
      </li>
      <li><strong>iOS</strong>: Settings → Wi‑Fi → jaringan saat ini → Configure Proxy = Manual; server = IP host, port = port app (HTTP/HTTPS).
        <div class="guide-image"><img src="img/guide_ios.png" alt="Pengaturan proxy iOS"></div>
      </li>
      <li><strong>Windows</strong>: Settings → Network & Internet → Proxy → Manual; address = IP host, port = port app (HTTP/HTTPS); pengecualian proxy: localhost;127.*;192.168.*;10.*;172.16.*;172.17.*;172.18.*;172.19.*;172.20.*;172.21.*;172.22.*;172.23.*;172.24.*;172.25.*;172.26.*;172.27.*;172.28.*;172.29.*;172.30.*;172.31.*.
        <div class="copy-row"><button type="button" class="copy-btn" data-copy="localhost;127.*;192.168.*;10.*;172.16.*;172.17.*;172.18.*;172.19.*;172.20.*;172.21.*;172.22.*;172.23.*;172.24.*;172.25.*;172.26.*;172.27.*;172.28.*;172.29.*;172.30.*;172.31.*"></button></div>
        <div class="guide-image"><img src="img/guide_window.png" alt="Pengaturan proxy Windows"></div>
      </li>
      <li><strong>macOS</strong>: System Settings → Network → antarmuka saat ini → Details → Proxies; centang HTTP/HTTPS (atau SOCKS5), server = IP host, port = port app.
        <div class="proxy-bypass"><span class="proxy-bypass-label"></span> 127.0.0.1,192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,172.29.0.0/16,localhost,*.local,*.crashlytics.com,<local>,919dm*</div>
        <div class="copy-row"><button type="button" class="copy-btn" data-copy="127.0.0.1,192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,172.29.0.0/16,localhost,*.local,*.crashlytics.com,<local>,919dm*"></button></div>
        <div class="guide-image"><img src="img/guide_mac.png" alt="Pengaturan proxy macOS"></div>
      </li>
      <li><strong>Perangkat lain</strong>: isi IP host + port di pengaturan proxy HTTP/HTTPS/SOCKS5 yang didukung.</li>
    </ul>
    <h2>Mode diperkuat</h2>
    <p>Beberapa VPN memblokir koneksi masuk dari perangkat LAN lain sehingga perangkat tidak dapat menjangkau layanan proxy di host ini dan berbagi VPN gagal. Mode diperkuat menambahkan perangkat pendamping dan memindahkan layanan proxy ke perangkat tersebut. Host ini (dengan VPN) menghubungi perangkat pendamping secara keluar, membawa kembali data, lalu menjalankan permintaan secara lokal.</p>
    <p>Jika perangkat LAN lain tetap tidak bisa mengakses proxy setelah pengaturan benar, aktifkan Mode diperkuat. Perangkat pendamping bisa mengatur proxy seperti perangkat lain untuk menggunakan VPN dari perangkat utama.</p>
    <p class="notice-green"><strong>Penting:</strong> Jika perangkat pendamping juga perlu proxy VPN full‑tunnel Clash, matikan VPN terlebih dulu dan hubungkan ke perangkat utama, lalu nyalakan VPN setelah koneksi berhasil. Pendeteksian peran perangkat saat ini bergantung pada status VPN.</p>
  </div>

  <div class="lang" data-lang="ja">
    <h2>目的</h2>
    <p>同一の Wi‑Fi/ホットスポット内で本機を LAN プロキシ・ゲートウェイとして使用し、他のデバイスの通信を本機経由で転送します（ホストの VPN と併用可）。複数デバイスの同時接続に対応します。</p>
    <h2>設定パラメータ</h2>
    <div class="guide-image"><img src="img/introduce.png" alt="設定パラメータ"></div>
    <p>ホスト: 10.0.2.15:1080<br>ホストIP: 10.0.2.15<br>アプリのポート: 1080<br>例のIPとポートをお使いの端末の実際の値に置き換えてください。<br>Listener Port が利用不可/使用中と表示された場合は、1024〜49151 の任意のポートを選んでください。機能は同じです。</p>
    <h2>ホストの手順（VPNあり）</h2>
    <ol>
      <li>アプリを開き、プロキシモード（推奨「自動識別」）とポート（デフォルト 1080）を選択します。現行バージョンはすべてのトラフィックをプロキシ経由にします。</li>
      <li>ホストとクライアントが同じ LAN 上にあり、ポートが空いていることを確認します。</li>
      <li>「ゲートウェイ開始」をタップし、フォアグラウンドサービスを維持します。</li>
    </ol>
    <h2>フルトンネルVPNプロキシ</h2>
    <p>別の端末に Clash をインストールし、生成された YAML を先にダウンロードしてから、Clash で「ファイルインポート」で取り込みます（リンクの直接購読は現在未対応です）。端末全体をプロキシしたい場合に使用します。入力するIPとポートは、ホスト（VPNあり）で起動したサービスと一致させてください。</p>
    <div class="yaml-generator" data-invalid-ip="正しいIPアドレスを入力してください。" data-invalid-port="正しいポート（1–65535）を入力してください。" data-output-prefix="生成リンク：">
      <div class="yaml-form">
        <input class="yaml-input" type="text" inputmode="decimal" placeholder="IPを入力">
        <input class="yaml-input" type="text" inputmode="numeric" placeholder="ポートを入力">
        <button type="button">YAMLリンクを生成</button>
      </div>
      <div class="yaml-output" aria-live="polite"></div>
    </div>
    <p>Clash ダウンロード： <a href="https://github.com/clashdownload/Clash">https://github.com/clashdownload/Clash</a></p>
    <h2>LANプロキシ / Wi‑Fi LANプロキシ</h2>
    <ul>
      <li><strong>Android</strong>: Wi‑Fi 詳細 → プロキシ = 手動；ホスト = 本機の IP、ポート = アプリのポート。あるいはアプリの HTTP/HTTPS に設定。
        <div class="guide-image"><img src="img/guide_android.png" alt="Android プロキシ設定"></div>
      </li>
      <li><strong>iOS</strong>: 設定 → Wi‑Fi → 使用中のネットワーク → プロキシを構成 = 手動；サーバ = ホスト IP、ポート = アプリのポート（HTTP/HTTPS）。
        <div class="guide-image"><img src="img/guide_ios.png" alt="iOS プロキシ設定"></div>
      </li>
      <li><strong>Windows</strong>: 設定 → ネットワークとインターネット → プロキシ → 手動プロキシ；アドレス = ホスト IP、ポート = アプリのポート（HTTP/HTTPS）。プロキシ除外: localhost;127.*;192.168.*;10.*;172.16.*;172.17.*;172.18.*;172.19.*;172.20.*;172.21.*;172.22.*;172.23.*;172.24.*;172.25.*;172.26.*;172.27.*;172.28.*;172.29.*;172.30.*;172.31.*。
        <div class="copy-row"><button type="button" class="copy-btn" data-copy="localhost;127.*;192.168.*;10.*;172.16.*;172.17.*;172.18.*;172.19.*;172.20.*;172.21.*;172.22.*;172.23.*;172.24.*;172.25.*;172.26.*;172.27.*;172.28.*;172.29.*;172.30.*;172.31.*"></button></div>
        <div class="guide-image"><img src="img/guide_window.png" alt="Windows プロキシ設定"></div>
      </li>
      <li><strong>macOS</strong>: システム設定 → ネットワーク → 使用中のインターフェース → 詳細 → プロキシ；HTTP/HTTPS（または SOCKS5）をチェック、サーバ = ホスト IP、ポート = アプリのポート。
        <div class="proxy-bypass"><span class="proxy-bypass-label"></span> 127.0.0.1,192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,172.29.0.0/16,localhost,*.local,*.crashlytics.com,<local>,919dm*</div>
        <div class="copy-row"><button type="button" class="copy-btn" data-copy="127.0.0.1,192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,172.29.0.0/16,localhost,*.local,*.crashlytics.com,<local>,919dm*"></button></div>
        <div class="guide-image"><img src="img/guide_mac.png" alt="macOS プロキシ設定"></div>
      </li>
      <li><strong>その他のデバイス</strong>: デバイス/アプリの HTTP/HTTPS/SOCKS5 プロキシ欄にホスト IP とポートを入力します。</li>
    </ul>
    <h2>強化モード</h2>
    <p>一部の VPN は他の LAN デバイスからの着信接続を遮断するため、このホスト上のプロキシサービスに到達できず、VPN 共有が失敗します。強化モードでは協同デバイスを追加し、プロキシサービスをそのデバイスへ移します。本機（VPN 使用中）は協同デバイスへアウトバウンド接続し、データを持ち帰ってから本機でリクエストを実行します。</p>
    <p>正しく設定しても他の LAN デバイスがプロキシに接続できない場合は、強化モードを有効にしてください。協同デバイスも他の機器と同様にプロキシを設定し、メイン端末の VPN を利用できます。</p>
    <p class="notice-green"><strong>重要：</strong>協同デバイスでも Clash のフルトンネルVPNプロキシを使う場合、まず VPN をオフにして本体と接続し、接続後に VPN をオンにしてください。現在、端末の判定は VPN の有無で行っています。</p>
  </div>

  <div class="lang" data-lang="ko">
    <h2>목적</h2>
    <p>동일한 Wi‑Fi/핫스팟에서 이 기기를 LAN 프록시 게이트웨이로 사용하여 다른 장치의 트래픽을 이 호스트로 전달합니다(호스트 VPN과 함께 사용 가능). 여러 장치의 동시 연결을 지원합니다.</p>
    <h2>구성 파라미터</h2>
    <div class="guide-image"><img src="img/introduce.png" alt="구성 파라미터"></div>
    <p>호스트: 10.0.2.15:1080<br>호스트 IP: 10.0.2.15<br>앱 포트: 1080<br>예시 IP와 포트를 기기 실제 값으로 변경하세요.<br>Listener Port가 사용 불가 또는 사용 중으로 표시되면 1024–49151 사이의 아무 포트나 선택해도 됩니다. 기능 차이는 없습니다.</p>
    <h2>호스트 단계(VPN 사용)</h2>
    <ol>
      <li>앱을 열어 프록시 모드(“자동 감지” 권장)와 포트(기본 1080)를 선택합니다. 현재 버전은 전체 트래픽을 프록시로 보냅니다.</li>
      <li>호스트와 클라이언트가 같은 LAN에 있고 포트가 비어 있는지 확인합니다.</li>
      <li>“게이트웨이 시작”을 눌러 포그라운드 서비스를 유지합니다.</li>
    </ol>
    <h2>전체 터널 VPN 프록시</h2>
    <p>다른 기기에 Clash를 설치하고 생성된 YAML을 먼저 다운로드한 뒤 Clash에서 파일 가져오기로 불러오세요(링크 직접 구독은 현재 지원되지 않습니다). 기기 전체 프록시가 필요할 때 사용하세요. IP와 포트는 호스트( VPN 사용 )에서 실행한 서비스와 일치해야 합니다.</p>
    <div class="yaml-generator" data-invalid-ip="유효한 IP 주소를 입력하세요." data-invalid-port="유효한 포트(1–65535)를 입력하세요." data-output-prefix="생성된 링크: ">
      <div class="yaml-form">
        <input class="yaml-input" type="text" inputmode="decimal" placeholder="IP 입력">
        <input class="yaml-input" type="text" inputmode="numeric" placeholder="포트 입력">
        <button type="button">YAML 링크 생성</button>
      </div>
      <div class="yaml-output" aria-live="polite"></div>
    </div>
    <p>Clash 다운로드: <a href="https://github.com/clashdownload/Clash">https://github.com/clashdownload/Clash</a></p>
    <h2>LAN 프록시 / Wi‑Fi LAN 프록시</h2>
    <ul>
      <li><strong>Android</strong>: Wi‑Fi 세부정보 → 프록시 = 수동; 호스트 = 이 기기 IP, 포트 = 앱 포트. 또는 앱의 HTTP/HTTPS 항목에 입력.
        <div class="guide-image"><img src="img/guide_android.png" alt="Android 프록시 설정"></div>
      </li>
      <li><strong>iOS</strong>: 설정 → Wi‑Fi → 현재 네트워크 → 프록시 구성 = 수동; 서버 = 호스트 IP, 포트 = 앱 포트(HTTP/HTTPS).
        <div class="guide-image"><img src="img/guide_ios.png" alt="iOS 프록시 설정"></div>
      </li>
      <li><strong>Windows</strong>: 설정 → 네트워크 및 인터넷 → 프록시 → 수동; 주소 = 호스트 IP, 포트 = 앱 포트(HTTP/HTTPS). 프록시 제외: localhost;127.*;192.168.*;10.*;172.16.*;172.17.*;172.18.*;172.19.*;172.20.*;172.21.*;172.22.*;172.23.*;172.24.*;172.25.*;172.26.*;172.27.*;172.28.*;172.29.*;172.30.*;172.31.*.
        <div class="copy-row"><button type="button" class="copy-btn" data-copy="localhost;127.*;192.168.*;10.*;172.16.*;172.17.*;172.18.*;172.19.*;172.20.*;172.21.*;172.22.*;172.23.*;172.24.*;172.25.*;172.26.*;172.27.*;172.28.*;172.29.*;172.30.*;172.31.*"></button></div>
        <div class="guide-image"><img src="img/guide_window.png" alt="Windows 프록시 설정"></div>
      </li>
      <li><strong>macOS</strong>: 시스템 설정 → 네트워크 → 현재 인터페이스 → 세부사항 → 프록시; HTTP/HTTPS(또는 SOCKS5) 선택, 서버 = 호스트 IP, 포트 = 앱 포트.
        <div class="proxy-bypass"><span class="proxy-bypass-label"></span> 127.0.0.1,192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,172.29.0.0/16,localhost,*.local,*.crashlytics.com,<local>,919dm*</div>
        <div class="copy-row"><button type="button" class="copy-btn" data-copy="127.0.0.1,192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,172.29.0.0/16,localhost,*.local,*.crashlytics.com,<local>,919dm*"></button></div>
        <div class="guide-image"><img src="img/guide_mac.png" alt="macOS 프록시 설정"></div>
      </li>
      <li><strong>기타 장치</strong>: 기기/앱에서 지원하는 HTTP/HTTPS/SOCKS5 프록시 설정에 호스트 IP + 포트를 입력합니다.</li>
    </ul>
    <h2>향상 모드</h2>
    <p>일부 VPN은 다른 LAN 기기에서 들어오는 인바운드 연결을 차단해 이 호스트의 프록시 서비스에 접근하지 못하고 VPN 공유가 실패합니다. 향상 모드는 협력 기기를 추가해 프록시 서비스를 그 기기로 옮깁니다. 이 호스트(VPN 사용 중)가 협력 기기로 아웃바운드 연결해 데이터를 가져온 뒤 로컬에서 요청을 수행합니다.</p>
    <p>정상적으로 설정했는데도 다른 LAN 기기가 프록시에 접속하지 못하면 향상 모드를 켜세요. 협력 기기도 다른 장치처럼 프록시를 설정해 메인 장치의 VPN을 사용할 수 있습니다.</p>
    <p class="notice-green"><strong>중요:</strong> 협력 기기에서도 Clash 전체 터널 VPN 프록시를 사용해야 한다면, 먼저 VPN을 끄고 메인 기기와 연결한 뒤 연결이 성공하면 VPN을 켜세요. 현재 기기 구분은 VPN 사용 여부로 판단합니다.</p>
  </div>

  <div class="lang" data-lang="ms">
    <h2>Tujuan</h2>
    <p>Gunakan peranti ini sebagai gerbang proksi LAN pada Wi‑Fi/hotspot yang sama; trafik peranti lain dihantar melalui hos ini (boleh digabung dengan VPN hos). Menyokong sambungan serentak berbilang peranti.</p>
    <h2>Parameter konfigurasi</h2>
    <div class="guide-image"><img src="img/introduce.png" alt="Parameter konfigurasi"></div>
    <p>Hos: 10.0.2.15:1080<br>IP hos: 10.0.2.15<br>Port aplikasi: 1080<br>Gantikan IP dan port contoh dengan nilai sebenar peranti anda.<br>Jika Listener Port tidak tersedia atau sedang digunakan, pilih mana-mana port antara 1024–49151; fungsinya sama.</p>
    <h2>Langkah hos (dengan VPN)</h2>
    <ol>
      <li>Buka app, pilih mod proksi (disyorkan “Auto-detect”) dan port (lalai 1080). Versi semasa memaksa semua trafik melalui proksi.</li>
      <li>Pastikan hos dan klien berada dalam LAN yang sama dan port tidak digunakan.</li>
      <li>Ketik “Mulakan Gateway” dan kekalkan perkhidmatan latar depan.</li>
    </ol>
    <h2>Proksi VPN terowong penuh</h2>
    <p>Pasang Clash pada peranti lain, muat turun dahulu YAML yang dijana, kemudian import di Clash melalui import fail (langganan terus melalui pautan belum disokong). Sesuai untuk proksi seluruh peranti. IP dan port mesti sepadan dengan servis hos (dengan VPN) yang anda jalankan.</p>
    <div class="yaml-generator" data-invalid-ip="Sila masukkan alamat IP yang sah." data-invalid-port="Sila masukkan port yang sah (1–65535)." data-output-prefix="Pautan dijana: ">
      <div class="yaml-form">
        <input class="yaml-input" type="text" inputmode="decimal" placeholder="Masukkan IP">
        <input class="yaml-input" type="text" inputmode="numeric" placeholder="Masukkan port">
        <button type="button">Jana pautan YAML</button>
      </div>
      <div class="yaml-output" aria-live="polite"></div>
    </div>
    <p>Muat turun Clash: <a href="https://github.com/clashdownload/Clash">https://github.com/clashdownload/Clash</a></p>
    <h2>Proksi LAN / Proksi LAN Wi‑Fi</h2>
    <ul>
      <li><strong>Android</strong>: Butiran Wi‑Fi → Proksi = Manual; hos = IP peranti ini, port = port app. Atau isikan HTTP/HTTPS dalam app.
        <div class="guide-image"><img src="img/guide_android.png" alt="Tetapan proksi Android"></div>
      </li>
      <li><strong>iOS</strong>: Settings → Wi‑Fi → rangkaian semasa → Configure Proxy = Manual; server = IP hos, port = port app (HTTP/HTTPS).
        <div class="guide-image"><img src="img/guide_ios.png" alt="Tetapan proksi iOS"></div>
      </li>
      <li><strong>Windows</strong>: Settings → Network & Internet → Proxy → Manual; alamat = IP hos, port = port app (HTTP/HTTPS); pengecualian proksi: localhost;127.*;192.168.*;10.*;172.16.*;172.17.*;172.18.*;172.19.*;172.20.*;172.21.*;172.22.*;172.23.*;172.24.*;172.25.*;172.26.*;172.27.*;172.28.*;172.29.*;172.30.*;172.31.*.
        <div class="copy-row"><button type="button" class="copy-btn" data-copy="localhost;127.*;192.168.*;10.*;172.16.*;172.17.*;172.18.*;172.19.*;172.20.*;172.21.*;172.22.*;172.23.*;172.24.*;172.25.*;172.26.*;172.27.*;172.28.*;172.29.*;172.30.*;172.31.*"></button></div>
        <div class="guide-image"><img src="img/guide_window.png" alt="Tetapan proksi Windows"></div>
      </li>
      <li><strong>macOS</strong>: System Settings → Network → antara muka semasa → Details → Proxies; tandakan HTTP/HTTPS (atau SOCKS5), server = IP hos, port = port app.
        <div class="proxy-bypass"><span class="proxy-bypass-label"></span> 127.0.0.1,192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,172.29.0.0/16,localhost,*.local,*.crashlytics.com,<local>,919dm*</div>
        <div class="copy-row"><button type="button" class="copy-btn" data-copy="127.0.0.1,192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,172.29.0.0/16,localhost,*.local,*.crashlytics.com,<local>,919dm*"></button></div>
        <div class="guide-image"><img src="img/guide_mac.png" alt="Tetapan proksi macOS"></div>
      </li>
      <li><strong>Peranti lain</strong>: isi IP hos + port dalam tetapan proksi HTTP/HTTPS/SOCKS5 yang disokong.</li>
    </ul>
    <h2>Mod dipertingkat</h2>
    <p>Sesetengah VPN menyekat sambungan masuk daripada peranti LAN lain, jadi peranti tidak dapat mengakses perkhidmatan proksi pada hos ini dan perkongsian VPN gagal. Mod dipertingkat menambah peranti rakan dan memindahkan perkhidmatan proksi ke peranti tersebut. Hos ini (dengan VPN) membuat sambungan keluar ke peranti rakan, membawa data balik, kemudian membuat permintaan secara tempatan.</p>
    <p>Jika peranti LAN lain masih tidak dapat mengakses proksi selepas tetapan betul, aktifkan Mod dipertingkat. Peranti rakan boleh menetapkan proksi seperti peranti lain untuk menggunakan VPN peranti utama.</p>
    <p class="notice-green"><strong>Penting:</strong> Jika peranti rakan juga perlu proksi VPN terowong penuh Clash, matikan VPN dahulu dan sambungkan ke peranti utama, kemudian hidupkan VPN selepas sambungan berjaya. Pengenalpastian peranan peranti kini bergantung pada status VPN.</p>
  </div>

  <div class="lang" data-lang="pt">
    <h2>Objetivo</h2>
    <p>Use este dispositivo na mesma rede Wi‑Fi/ponto de acesso como gateway proxy LAN; outros dispositivos enviam o tráfego por este host (pode ser combinado com a VPN do host). Suporta conexões simultâneas de vários dispositivos.</p>
    <h2>Parâmetros de configuração</h2>
    <div class="guide-image"><img src="img/introduce.png" alt="Parâmetros de configuração"></div>
    <p>Host: 10.0.2.15:1080<br>IP do host: 10.0.2.15<br>Porta do app: 1080<br>Substitua o IP e a porta de exemplo pelos valores reais do seu dispositivo.<br>Se o Listener Port estiver indisponível ou em uso, escolha qualquer porta entre 1024–49151; a funcionalidade é a mesma.</p>
    <h2>Passos no host (com VPN)</h2>
    <ol>
      <li>Abra o app, escolha o modo de proxy (recomendado “Detecção automática”) e a porta (padrão 1080). A versão atual força todo o tráfego pelo proxy.</li>
      <li>Certifique-se de que host e clientes estejam na mesma LAN e que a porta não esteja ocupada.</li>
      <li>Toque em “Iniciar gateway” e mantenha o serviço em primeiro plano ativo.</li>
    </ol>
    <h2>Proxy VPN de túnel completo</h2>
    <p>Instale o Clash em outro dispositivo, baixe primeiro o YAML gerado e depois importe-o no Clash por importação de arquivo (a assinatura direta por link não é suportada no momento). Use quando precisar de proxy no dispositivo inteiro. O IP e a porta devem corresponder ao serviço do host (com VPN) que você iniciou.</p>
    <div class="yaml-generator" data-invalid-ip="Digite um IP válido." data-invalid-port="Digite uma porta válida (1–65535)." data-output-prefix="Link gerado: ">
      <div class="yaml-form">
        <input class="yaml-input" type="text" inputmode="decimal" placeholder="Digite o IP">
        <input class="yaml-input" type="text" inputmode="numeric" placeholder="Digite a porta">
        <button type="button">Gerar link YAML</button>
      </div>
      <div class="yaml-output" aria-live="polite"></div>
    </div>
    <p>Download do Clash: <a href="https://github.com/clashdownload/Clash">https://github.com/clashdownload/Clash</a></p>
    <h2>Proxy LAN / Proxy LAN via Wi‑Fi</h2>
    <ul>
      <li><strong>Android</strong>: Detalhes do Wi‑Fi → Proxy = Manual; host = IP deste dispositivo, porta = porta do app. Ou preencha HTTP/HTTPS nos apps.
        <div class="guide-image"><img src="img/guide_android.png" alt="Configuração de proxy no Android"></div>
      </li>
      <li><strong>iOS</strong>: Ajustes → Wi‑Fi → rede atual → Configurar Proxy = Manual; servidor = IP do host, porta = porta do app (HTTP/HTTPS).
        <div class="guide-image"><img src="img/guide_ios.png" alt="Configuração de proxy no iOS"></div>
      </li>
      <li><strong>Windows</strong>: Configurações → Rede e Internet → Proxy → Manual; endereço = IP do host, porta = porta do app (HTTP/HTTPS); exceções de proxy: localhost;127.*;192.168.*;10.*;172.16.*;172.17.*;172.18.*;172.19.*;172.20.*;172.21.*;172.22.*;172.23.*;172.24.*;172.25.*;172.26.*;172.27.*;172.28.*;172.29.*;172.30.*;172.31.*.
        <div class="copy-row"><button type="button" class="copy-btn" data-copy="localhost;127.*;192.168.*;10.*;172.16.*;172.17.*;172.18.*;172.19.*;172.20.*;172.21.*;172.22.*;172.23.*;172.24.*;172.25.*;172.26.*;172.27.*;172.28.*;172.29.*;172.30.*;172.31.*"></button></div>
        <div class="guide-image"><img src="img/guide_window.png" alt="Configuração de proxy no Windows"></div>
      </li>
      <li><strong>macOS</strong>: Ajustes do Sistema → Rede → interface atual → Detalhes → Proxies; marque HTTP/HTTPS (ou SOCKS5), servidor = IP do host, porta = porta do app.
        <div class="proxy-bypass"><span class="proxy-bypass-label"></span> 127.0.0.1,192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,172.29.0.0/16,localhost,*.local,*.crashlytics.com,<local>,919dm*</div>
        <div class="copy-row"><button type="button" class="copy-btn" data-copy="127.0.0.1,192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,172.29.0.0/16,localhost,*.local,*.crashlytics.com,<local>,919dm*"></button></div>
        <div class="guide-image"><img src="img/guide_mac.png" alt="Configuração de proxy no macOS"></div>
      </li>
      <li><strong>Outros dispositivos</strong>: preencha IP do host + porta nas configurações de proxy HTTP/HTTPS/SOCKS5 suportadas.</li>
    </ul>
    <h2>Modo aprimorado</h2>
    <p>Algumas VPNs bloqueiam conexões de entrada de outros dispositivos da LAN, então eles não conseguem acessar o serviço de proxy neste host e o compartilhamento de VPN falha. O modo aprimorado adiciona um dispositivo auxiliar e move o serviço de proxy para esse dispositivo. Este host (com VPN) se conecta de saída ao dispositivo auxiliar, traz os dados de volta e então executa as requisições localmente.</p>
    <p>Se outros dispositivos da LAN ainda não conseguirem acessar o proxy após a configuração correta, ative o modo aprimorado. O dispositivo auxiliar pode configurar o proxy como os demais dispositivos para usar a VPN do dispositivo principal.</p>
    <p class="notice-green"><strong>Importante:</strong> Se o dispositivo auxiliar também precisar do proxy VPN de túnel completo do Clash, desative o VPN primeiro e conecte-se ao dispositivo principal; após a conexão bem‑sucedida, ative o VPN. A detecção do papel do dispositivo atualmente depende de o VPN estar ativo.</p>
  </div>

  <div class="lang" data-lang="ru">
    <h2>Назначение</h2>
    <p>Используйте это устройство в той же сети Wi‑Fi/точке доступа как шлюз LAN‑прокси; трафик других устройств проходит через этот хост (можно комбинировать с VPN хоста). Поддерживаются одновременные подключения нескольких устройств.</p>
    <h2>Параметры конфигурации</h2>
    <div class="guide-image"><img src="img/introduce.png" alt="Параметры конфигурации"></div>
    <p>Хост: 10.0.2.15:1080<br>IP хоста: 10.0.2.15<br>Порт приложения: 1080<br>Замените пример IP и порт на реальные значения вашего устройства.<br>Если Listener Port недоступен или занят, выберите любой порт в диапазоне 1024–49151 — функциональность не меняется.</p>
    <h2>Шаги на хосте (с VPN)</h2>
    <ol>
      <li>Откройте приложение, выберите режим прокси (рекомендуется «Автоопределение») и порт (по умолчанию 1080). Текущая версия направляет весь трафик через прокси.</li>
      <li>Убедитесь, что хост и клиенты в одной LAN и что порт не занят.</li>
      <li>Нажмите «Запустить шлюз» и держите foreground‑сервис активным.</li>
    </ol>
    <h2>Полнотуннельный VPN‑прокси</h2>
    <p>Установите Clash на другом устройстве, сначала скачайте созданный YAML, затем импортируйте его в Clash через импорт файла (прямая подписка по ссылке сейчас не поддерживается). Используйте, когда нужен прокси для всего устройства. IP и порт должны совпадать с запущенной на хосте (с VPN) службой.</p>
    <div class="yaml-generator" data-invalid-ip="Введите корректный IP‑адрес." data-invalid-port="Введите корректный порт (1–65535)." data-output-prefix="Сгенерированная ссылка: ">
      <div class="yaml-form">
        <input class="yaml-input" type="text" inputmode="decimal" placeholder="Введите IP">
        <input class="yaml-input" type="text" inputmode="numeric" placeholder="Введите порт">
        <button type="button">Сгенерировать ссылку YAML</button>
      </div>
      <div class="yaml-output" aria-live="polite"></div>
    </div>
    <p>Скачать Clash: <a href="https://github.com/clashdownload/Clash">https://github.com/clashdownload/Clash</a></p>
    <h2>LAN‑прокси / Wi‑Fi LAN‑прокси</h2>
    <ul>
      <li><strong>Android</strong>: сведения о Wi‑Fi → Прокси = Вручную; хост = IP этого устройства, порт = порт приложения. Или заполните HTTP/HTTPS в приложениях.
        <div class="guide-image"><img src="img/guide_android.png" alt="Настройка прокси на Android"></div>
      </li>
      <li><strong>iOS</strong>: Настройки → Wi‑Fi → текущая сеть → Настроить прокси = Вручную; сервер = IP хоста, порт = порт приложения (HTTP/HTTPS).
        <div class="guide-image"><img src="img/guide_ios.png" alt="Настройка прокси на iOS"></div>
      </li>
      <li><strong>Windows</strong>: Настройки → Сеть и Интернет → Прокси → Вручную; адрес = IP хоста, порт = порт приложения (HTTP/HTTPS); исключения прокси: localhost;127.*;192.168.*;10.*;172.16.*;172.17.*;172.18.*;172.19.*;172.20.*;172.21.*;172.22.*;172.23.*;172.24.*;172.25.*;172.26.*;172.27.*;172.28.*;172.29.*;172.30.*;172.31.*.
        <div class="copy-row"><button type="button" class="copy-btn" data-copy="localhost;127.*;192.168.*;10.*;172.16.*;172.17.*;172.18.*;172.19.*;172.20.*;172.21.*;172.22.*;172.23.*;172.24.*;172.25.*;172.26.*;172.27.*;172.28.*;172.29.*;172.30.*;172.31.*"></button></div>
        <div class="guide-image"><img src="img/guide_window.png" alt="Настройка прокси на Windows"></div>
      </li>
      <li><strong>macOS</strong>: Настройки системы → Сеть → текущий интерфейс → Подробнее → Прокси; отметьте HTTP/HTTPS (или SOCKS5), сервер = IP хоста, порт = порт приложения.
        <div class="proxy-bypass"><span class="proxy-bypass-label"></span> 127.0.0.1,192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,172.29.0.0/16,localhost,*.local,*.crashlytics.com,<local>,919dm*</div>
        <div class="copy-row"><button type="button" class="copy-btn" data-copy="127.0.0.1,192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,172.29.0.0/16,localhost,*.local,*.crashlytics.com,<local>,919dm*"></button></div>
        <div class="guide-image"><img src="img/guide_mac.png" alt="Настройка прокси на macOS"></div>
      </li>
      <li><strong>Другие устройства</strong>: в полях прокси HTTP/HTTPS/SOCKS5 устройства/приложения укажите IP хоста + порт.</li>
    </ul>
    <h2>Усиленный режим</h2>
    <p>Некоторые VPN блокируют входящие подключения от других устройств в LAN, поэтому они не могут достучаться до прокси‑сервиса на этом хосте и общий доступ к VPN не работает. Усиленный режим добавляет устройство‑партнёр и переносит на него прокси‑сервис. Этот хост (с VPN) исходящим подключением обращается к устройству‑партнёру, забирает данные и затем выполняет запросы локально.</p>
    <p>Если другие устройства LAN всё равно не могут получить доступ к прокси при корректных настройках, включите усиленный режим. Устройство‑партнёр может настроить прокси как другие устройства и использовать VPN основного устройства.</p>
    <p class="notice-green"><strong>Важно:</strong> если устройству‑партнёру тоже нужен полнотуннельный VPN‑прокси в Clash, сначала отключите VPN и подключитесь к основному устройству, а после успешного подключения включите VPN. Сейчас определение роли устройства зависит от того, включён ли VPN.</p>
  </div>

  <div class="lang" data-lang="sw">
    <h2>Kusudi</h2>
    <p>Tumia kifaa hiki kama lango la proksi la LAN katika Wi‑Fi/hotspot ile ile; trafiki ya vifaa vingine hupitia kwa host huyu (inaweza kuunganishwa na VPN ya host). Inasaidia kuunganisha vifaa vingi kwa wakati mmoja.</p>
    <h2>Vigezo vya usanidi</h2>
    <div class="guide-image"><img src="img/introduce.png" alt="Vigezo vya usanidi"></div>
    <p>Hosti: 10.0.2.15:1080<br>IP ya hosti: 10.0.2.15<br>Bandari ya programu: 1080<br>Badilisha IP na bandari ya mfano na thamani halisi za kifaa chako.<br>Ikiwa Listener Port haipatikani au inatumika, chagua bandari yoyote kati ya 1024–49151; utendaji ni sawa.</p>
    <h2>Hatua za host (na VPN)</h2>
    <ol>
      <li>Fungua app, chagua hali ya proksi (inapendekezwa “Utambuzi otomatiki”) na bandari (chaguo-msingi 1080). Toleo la sasa hupitisha trafiki yote kupitia proksi.</li>
      <li>Hakikisheni host na wateja wako LAN moja na bandari haijatumika.</li>
      <li>Bofya “Anzisha Gateway” na uache huduma ya foreground iendelee.</li>
    </ol>
    <h2>Proksi ya VPN full‑tunnel</h2>
    <p>Sakinisha Clash kwenye kifaa kingine, pakua kwanza YAML iliyotengenezwa, kisha ulete kwenye Clash kwa kuingiza faili (usajili wa moja kwa moja kupitia kiungo hauauniwi kwa sasa). Tumia unapohitaji proksi ya kifaa chote. IP na port lazima vilingane na huduma ya host (yenye VPN) uliyowasha.</p>
    <div class="yaml-generator" data-invalid-ip="Tafadhali ingiza IP sahihi." data-invalid-port="Tafadhali ingiza port sahihi (1–65535)." data-output-prefix="Kiungo kilichotengenezwa: ">
      <div class="yaml-form">
        <input class="yaml-input" type="text" inputmode="decimal" placeholder="Ingiza IP">
        <input class="yaml-input" type="text" inputmode="numeric" placeholder="Ingiza port">
        <button type="button">Tengeneza kiungo cha YAML</button>
      </div>
      <div class="yaml-output" aria-live="polite"></div>
    </div>
    <p>Pakua Clash: <a href="https://github.com/clashdownload/Clash">https://github.com/clashdownload/Clash</a></p>
    <h2>Proksi ya LAN / Proksi ya LAN ya Wi‑Fi</h2>
    <ul>
      <li><strong>Android</strong>: Maelezo ya Wi‑Fi → Proksi = Manual; host = IP ya kifaa hiki, bandari = bandari ya app. Au jaza HTTP/HTTPS ndani ya app.
        <div class="guide-image"><img src="img/guide_android.png" alt="Mipangilio ya proksi Android"></div>
      </li>
      <li><strong>iOS</strong>: Settings → Wi‑Fi → mtandao wa sasa → Configure Proxy = Manual; seva = IP ya host, bandari = bandari ya app (HTTP/HTTPS).
        <div class="guide-image"><img src="img/guide_ios.png" alt="Mipangilio ya proksi iOS"></div>
      </li>
      <li><strong>Windows</strong>: Settings → Network & Internet → Proxy → Manual; anwani = IP ya host, bandari = bandari ya app (HTTP/HTTPS); orodha ya kuacha: localhost;127.*;192.168.*;10.*;172.16.*;172.17.*;172.18.*;172.19.*;172.20.*;172.21.*;172.22.*;172.23.*;172.24.*;172.25.*;172.26.*;172.27.*;172.28.*;172.29.*;172.30.*;172.31.*.
        <div class="copy-row"><button type="button" class="copy-btn" data-copy="localhost;127.*;192.168.*;10.*;172.16.*;172.17.*;172.18.*;172.19.*;172.20.*;172.21.*;172.22.*;172.23.*;172.24.*;172.25.*;172.26.*;172.27.*;172.28.*;172.29.*;172.30.*;172.31.*"></button></div>
        <div class="guide-image"><img src="img/guide_window.png" alt="Mipangilio ya proksi Windows"></div>
      </li>
      <li><strong>macOS</strong>: System Settings → Network → kiolesura cha sasa → Details → Proxies; tiki HTTP/HTTPS (au SOCKS5), seva = IP ya host, bandari = bandari ya app.
        <div class="proxy-bypass"><span class="proxy-bypass-label"></span> 127.0.0.1,192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,172.29.0.0/16,localhost,*.local,*.crashlytics.com,<local>,919dm*</div>
        <div class="copy-row"><button type="button" class="copy-btn" data-copy="127.0.0.1,192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,172.29.0.0/16,localhost,*.local,*.crashlytics.com,<local>,919dm*"></button></div>
        <div class="guide-image"><img src="img/guide_mac.png" alt="Mipangilio ya proksi macOS"></div>
      </li>
      <li><strong>Vifaa vingine</strong>: ingiza IP ya host + bandari kwenye mipangilio ya proksi ya HTTP/HTTPS/SOCKS5 inayotolewa.</li>
    </ul>
    <h2>Hali iliyoimarishwa</h2>
    <p>Baadhi ya VPN huzuia miunganisho inayoingia kutoka kwa vifaa vingine vya LAN, hivyo haviwezi kufikia huduma ya proksi kwenye host hii na ushiriki wa VPN hushindikana. Hali iliyoimarishwa huongeza kifaa mshirika na kuhamisha huduma ya proksi kwenda kwenye kifaa hicho. Host hii (yenye VPN) huunganishwa kwa njia ya kutoka kwenda kwenye kifaa mshirika, hurejesha data kisha hufanya maombi ndani ya kifaa.</p>
    <p>Ikiwa vifaa vingine vya LAN bado haviwezi kufikia proksi baada ya mipangilio sahihi, washa Hali iliyoimarishwa. Kifaa mshirika kinaweza kusanidi proksi kama vifaa vingine ili kutumia VPN ya kifaa kikuu.</p>
    <p class="notice-green"><strong>Muhimu:</strong> Ikiwa kifaa mshirika pia kinahitaji proksi ya VPN full‑tunnel ya Clash, zima VPN kwanza na uunganishe kwenye kifaa kikuu, kisha washa VPN baada ya muunganisho kufanikiwa. Utambuzi wa majukumu ya vifaa kwa sasa unategemea ikiwa VPN imewashwa.</p>
  </div>

  <div class="lang" data-lang="th">
    <h2>วัตถุประสงค์</h2>
    <p>ใช้เครื่องนี้เป็นเกตเวย์พร็อกซี LAN ในเครือข่าย Wi‑Fi/ฮอตสปอตเดียวกัน เพื่อให้อุปกรณ์อื่นส่งทราฟฟิกผ่านโฮสต์นี้ (ใช้ร่วมกับ VPN ของโฮสต์ได้) รองรับการเชื่อมต่อพร้อมกันหลายอุปกรณ์.</p>
    <h2>พารามิเตอร์การตั้งค่า</h2>
    <div class="guide-image"><img src="img/introduce.png" alt="พารามิเตอร์การตั้งค่า"></div>
    <p>โฮสต์: 10.0.2.15:1080<br>IP โฮสต์: 10.0.2.15<br>พอร์ตแอป: 1080<br>โปรดแทนที่ IP และพอร์ตตัวอย่างด้วยค่าจริงของอุปกรณ์คุณ<br>หาก Listener Port ไม่พร้อมใช้งานหรือถูกใช้งานอยู่ ให้เลือกพอร์ตใดก็ได้ระหว่าง 1024–49151; การทำงานเหมือนเดิม.</p>
    <h2>ขั้นตอนฝั่งโฮสต์ (มี VPN)</h2>
    <ol>
      <li>เปิดแอป เลือกโหมดพร็อกซี (แนะนำ “ตรวจหาอัตโนมัติ”) และพอร์ต (ค่าเริ่มต้น 1080) เวอร์ชันปัจจุบันบังคับให้ทราฟฟิกทั้งหมดผ่านพร็อกซี</li>
      <li>ยืนยันว่าโฮสต์และไคลเอนต์อยู่ใน LAN เดียวกัน และพอร์ตไม่ถูกใช้งาน</li>
      <li>แตะ “เริ่มเกตเวย์” และให้บริการ foreground ทำงานต่อ</li>
    </ol>
    <h2>พร็อกซี VPN แบบ full‑tunnel</h2>
    <p>ติดตั้ง Clash บนอุปกรณ์อื่น ดาวน์โหลดไฟล์ YAML ที่สร้างขึ้นก่อน แล้วนำเข้าใน Clash ด้วยการนำเข้าไฟล์ (ยังไม่รองรับการสมัครผ่านลิงก์โดยตรง) ใช้เมื่ออยากให้ทั้งอุปกรณ์ผ่านพร็อกซี IP และพอร์ตต้องตรงกับบริการบนโฮสต์ (มี VPN) ที่คุณเปิดใช้งาน</p>
    <div class="yaml-generator" data-invalid-ip="กรุณากรอก IP ที่ถูกต้อง" data-invalid-port="กรุณากรอกพอร์ตที่ถูกต้อง (1–65535)" data-output-prefix="ลิงก์ที่สร้าง: ">
      <div class="yaml-form">
        <input class="yaml-input" type="text" inputmode="decimal" placeholder="กรอก IP">
        <input class="yaml-input" type="text" inputmode="numeric" placeholder="กรอกพอร์ต">
        <button type="button">สร้างลิงก์ YAML</button>
      </div>
      <div class="yaml-output" aria-live="polite"></div>
    </div>
    <p>ดาวน์โหลด Clash: <a href="https://github.com/clashdownload/Clash">https://github.com/clashdownload/Clash</a></p>
    <h2>พร็อกซี LAN / พร็อกซี LAN ผ่าน Wi‑Fi</h2>
    <ul>
      <li><strong>Android</strong>: รายละเอียด Wi‑Fi → Proxy = Manual; โฮสต์ = IP ของเครื่องนี้, พอร์ต = พอร์ตในแอป หรือกรอก HTTP/HTTPS ในแอป
        <div class="guide-image"><img src="img/guide_android.png" alt="การตั้งค่าพร็อกซีบน Android"></div>
      </li>
      <li><strong>iOS</strong>: การตั้งค่า → Wi‑Fi → เครือข่ายปัจจุบัน → ตั้งค่าพร็อกซี = Manual; เซิร์ฟเวอร์ = IP โฮสต์, พอร์ต = พอร์ตในแอป (HTTP/HTTPS)
        <div class="guide-image"><img src="img/guide_ios.png" alt="การตั้งค่าพร็อกซีบน iOS"></div>
      </li>
      <li><strong>Windows</strong>: Settings → Network & Internet → Proxy → Manual; address = IP โฮสต์, port = พอร์ตแอป (HTTP/HTTPS); รายการละเว้นพร็อกซี: localhost;127.*;192.168.*;10.*;172.16.*;172.17.*;172.18.*;172.19.*;172.20.*;172.21.*;172.22.*;172.23.*;172.24.*;172.25.*;172.26.*;172.27.*;172.28.*;172.29.*;172.30.*;172.31.*.
        <div class="copy-row"><button type="button" class="copy-btn" data-copy="localhost;127.*;192.168.*;10.*;172.16.*;172.17.*;172.18.*;172.19.*;172.20.*;172.21.*;172.22.*;172.23.*;172.24.*;172.25.*;172.26.*;172.27.*;172.28.*;172.29.*;172.30.*;172.31.*"></button></div>
        <div class="guide-image"><img src="img/guide_window.png" alt="การตั้งค่าพร็อกซีบน Windows"></div>
      </li>
      <li><strong>macOS</strong>: System Settings → Network → อินเทอร์เฟซปัจจุบัน → Details → Proxies; ติ๊ก HTTP/HTTPS (หรือ SOCKS5), server = IP โฮสต์, port = พอร์ตแอป
        <div class="proxy-bypass"><span class="proxy-bypass-label"></span> 127.0.0.1,192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,172.29.0.0/16,localhost,*.local,*.crashlytics.com,<local>,919dm*</div>
        <div class="copy-row"><button type="button" class="copy-btn" data-copy="127.0.0.1,192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,172.29.0.0/16,localhost,*.local,*.crashlytics.com,<local>,919dm*"></button></div>
        <div class="guide-image"><img src="img/guide_mac.png" alt="การตั้งค่าพร็อกซีบน macOS"></div>
      </li>
      <li><strong>อุปกรณ์อื่น</strong>: กรอก IP โฮสต์ + พอร์ตในช่องตั้งค่าพร็อกซี HTTP/HTTPS/SOCKS5 ที่อุปกรณ์/แอปมีให้</li>
    </ul>
    <h2>โหมดเสริม</h2>
    <p>VPN บางตัวบล็อกการเชื่อมต่อขาเข้าจากอุปกรณ์ LAN อื่น ทำให้อุปกรณ์เหล่านั้นเข้าถึงบริการพร็อกซีบนโฮสต์นี้ไม่ได้และการแชร์ VPN ล้มเหลว โหมดเสริมจะเพิ่มอุปกรณ์ประสานและย้ายบริการพร็อกซีไปที่อุปกรณ์นั้น โฮสต์นี้ (ที่ใช้ VPN) จะเชื่อมต่อออกไปยังอุปกรณ์ประสาน รับข้อมูลกลับมา แล้วจึงทำคำขอภายในเครื่อง</p>
    <p>หากอุปกรณ์ LAN อื่นยังเข้าถึงพร็อกซีไม่ได้แม้ตั้งค่าถูกต้อง ให้เปิดโหมดเสริม อุปกรณ์ประสานสามารถตั้งค่าพร็อกซีเหมือนอุปกรณ์อื่นเพื่อใช้ VPN จากอุปกรณ์หลักได้</p>
    <p class="notice-green"><strong>สำคัญ:</strong> หากอุปกรณ์ประสานต้องใช้พร็อกซี VPN แบบ full‑tunnel ของ Clash ด้วย ให้ปิด VPN ก่อนแล้วเชื่อมต่อกับอุปกรณ์หลัก จากนั้นเปิด VPN หลังเชื่อมต่อสำเร็จ การระบุบทบาทอุปกรณ์ในขณะนี้อ้างอิงจากการเปิดใช้งาน VPN</p>
  </div>

  <div class="lang" data-lang="tl">
    <h2>Layunin</h2>
    <p>Gamitin ang aparatong ito bilang LAN proxy gateway sa parehong Wi‑Fi/hotspot; dumaraan ang trapiko ng ibang device sa host na ito (puwedeng isabay sa VPN ng host). Sinusuportahan ang sabayang koneksyon ng maraming device.</p>
    <h2>Mga parameter ng pagsasaayos</h2>
    <div class="guide-image"><img src="img/introduce.png" alt="Mga parameter ng pagsasaayos"></div>
    <p>Host: 10.0.2.15:1080<br>IP ng host: 10.0.2.15<br>Port ng app: 1080<br>Palitan ang halimbawang IP at port ng aktuwal na halaga ng iyong device.<br>Kung hindi available o ginagamit ang Listener Port, pumili ng alinmang port mula 1024–49151; pareho ang functionality.</p>
    <h2>Mga hakbang ng host (may VPN)</h2>
    <ol>
      <li>Buksan ang app, piliin ang mode ng proxy (inirerekomenda ang “Auto-detect”) at ang port (default 1080). Sa kasalukuyang bersyon, lahat ng trapiko ay dumadaan sa proxy.</li>
      <li>Tiyaking nasa parehong LAN ang host at mga kliyente at hindi ginagamit ang port.</li>
      <li>Pindutin ang “Start Gateway” at panatilihing buhay ang foreground service.</li>
    </ol>
    <h2>Full‑tunnel VPN proxy</h2>
    <p>Mag‑install ng Clash sa ibang device, i‑download muna ang generated YAML, pagkatapos ay i‑import sa Clash gamit ang file import (hindi pa suportado ang direktang subscription sa link). Gamitin kapag kailangan ng full‑device proxy. Dapat tumugma ang IP at port sa serbisyong pinatakbo sa host (may VPN).</p>
    <div class="yaml-generator" data-invalid-ip="Maglagay ng wastong IP." data-invalid-port="Maglagay ng wastong port (1–65535)." data-output-prefix="Nabuong link: ">
      <div class="yaml-form">
        <input class="yaml-input" type="text" inputmode="decimal" placeholder="Ilagay ang IP">
        <input class="yaml-input" type="text" inputmode="numeric" placeholder="Ilagay ang port">
        <button type="button">Gumawa ng YAML link</button>
      </div>
      <div class="yaml-output" aria-live="polite"></div>
    </div>
    <p>I‑download ang Clash: <a href="https://github.com/clashdownload/Clash">https://github.com/clashdownload/Clash</a></p>
    <h2>LAN proxy / Wi‑Fi LAN proxy</h2>
    <ul>
      <li><strong>Android</strong>: Wi‑Fi details → Proxy = Manual; host = IP ng aparatong ito, port = port ng app. O punan ang HTTP/HTTPS sa mga app.
        <div class="guide-image"><img src="img/guide_android.png" alt="Pag-configure ng proxy sa Android"></div>
      </li>
      <li><strong>iOS</strong>: Settings → Wi‑Fi → kasalukuyang network → Configure Proxy = Manual; server = IP ng host, port = port ng app (HTTP/HTTPS).
        <div class="guide-image"><img src="img/guide_ios.png" alt="Pag-configure ng proxy sa iOS"></div>
      </li>
      <li><strong>Windows</strong>: Settings → Network & Internet → Proxy → Manual; address = IP ng host, port = port ng app (HTTP/HTTPS); proxy bypass: localhost;127.*;192.168.*;10.*;172.16.*;172.17.*;172.18.*;172.19.*;172.20.*;172.21.*;172.22.*;172.23.*;172.24.*;172.25.*;172.26.*;172.27.*;172.28.*;172.29.*;172.30.*;172.31.*.
        <div class="copy-row"><button type="button" class="copy-btn" data-copy="localhost;127.*;192.168.*;10.*;172.16.*;172.17.*;172.18.*;172.19.*;172.20.*;172.21.*;172.22.*;172.23.*;172.24.*;172.25.*;172.26.*;172.27.*;172.28.*;172.29.*;172.30.*;172.31.*"></button></div>
        <div class="guide-image"><img src="img/guide_window.png" alt="Pag-configure ng proxy sa Windows"></div>
      </li>
      <li><strong>macOS</strong>: System Settings → Network → kasalukuyang interface → Details → Proxies; piliin ang HTTP/HTTPS (o SOCKS5), server = IP ng host, port = port ng app.
        <div class="proxy-bypass"><span class="proxy-bypass-label"></span> 127.0.0.1,192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,172.29.0.0/16,localhost,*.local,*.crashlytics.com,<local>,919dm*</div>
        <div class="copy-row"><button type="button" class="copy-btn" data-copy="127.0.0.1,192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,172.29.0.0/16,localhost,*.local,*.crashlytics.com,<local>,919dm*"></button></div>
        <div class="guide-image"><img src="img/guide_mac.png" alt="Pag-configure ng proxy sa macOS"></div>
      </li>
      <li><strong>Ibang device</strong>: ilagay ang IP ng host + port sa mga setting ng HTTP/HTTPS/SOCKS5 proxy na sinusuportahan ng device/app.</li>
    </ul>
    <h2>Pinalakas na mode</h2>
    <p>May ilang VPN na humaharang sa inbound na koneksyon mula sa ibang LAN device, kaya hindi nila maabot ang proxy service sa host na ito at pumapalya ang VPN sharing. Ang pinalakas na mode ay nagdaragdag ng katuwang na device at inililipat ang proxy service doon. Kumokonekta palabas ang host na ito (may VPN) sa katuwang na device, dinadala pabalik ang data, at saka gumagawa ng request nang lokal.</p>
    <p>Kung hindi pa rin ma-access ng ibang LAN device ang proxy kahit tama ang settings, i-enable ang pinalakas na mode. Ang katuwang na device ay puwedeng mag-configure ng proxy tulad ng ibang device para magamit ang VPN ng pangunahing device.</p>
    <p class="notice-green"><strong>Mahalaga:</strong> Kung kailangan din ng katuwang na device ang Clash full‑tunnel VPN proxy, patayin muna ang VPN at kumonekta sa pangunahing device, pagkatapos ay buksan ang VPN kapag matagumpay ang koneksyon. Ang pagtukoy sa papel ng device ay kasalukuyang nakabase sa kung naka‑VPN.</p>
  </div>

  <div class="lang" data-lang="tr">
    <h2>Amaç</h2>
    <p>Aynı Wi‑Fi/erişim noktasında bu cihazı LAN proxy geçidi olarak kullanın; diğer cihazların trafiği bu host üzerinden gider (host VPN’iyle birlikte kullanılabilir). Birden fazla cihazın aynı anda bağlanmasını destekler.</p>
    <h2>Yapılandırma parametreleri</h2>
    <div class="guide-image"><img src="img/introduce.png" alt="Yapılandırma parametreleri"></div>
    <p>Ana makine: 10.0.2.15:1080<br>Ana makine IP: 10.0.2.15<br>Uygulama portu: 1080<br>Örnek IP ve portu cihazınızın gerçek değerleriyle değiştirin.<br>Listener Port kullanılamıyor veya meşgulse 1024–49151 arasından herhangi bir port seçin; işlev aynı kalır.</p>
    <h2>Host adımları (VPN ile)</h2>
    <ol>
      <li>Uygulamayı açın, proxy modunu seçin (“Otomatik algıla” önerilir) ve portu belirleyin (varsayılan 1080). Mevcut sürüm tüm trafiği proxy üzerinden yönlendirir.</li>
      <li>Host ve istemcilerin aynı LAN’de olduğundan ve portun boş olduğundan emin olun.</li>
      <li>“Gateway’i başlat”a dokunun ve ön plan servisini açık tutun.</li>
    </ol>
    <h2>Tam tünel VPN proxy</h2>
    <p>Başka bir cihaza Clash kurun, oluşturulan YAML’i önce indirin, ardından Clash’te dosya içe aktarma ile ekleyin (bağlantıdan doğrudan abonelik şu anda desteklenmiyor). Tüm cihaz için proxy gerektiğinde kullanın. IP ve port, hostta (VPN açıkken) başlattığınız hizmetle aynı olmalıdır.</p>
    <div class="yaml-generator" data-invalid-ip="Geçerli bir IP adresi girin." data-invalid-port="Geçerli bir port (1–65535) girin." data-output-prefix="Oluşturulan bağlantı: ">
      <div class="yaml-form">
        <input class="yaml-input" type="text" inputmode="decimal" placeholder="IP girin">
        <input class="yaml-input" type="text" inputmode="numeric" placeholder="Port girin">
        <button type="button">YAML bağlantısı oluştur</button>
      </div>
      <div class="yaml-output" aria-live="polite"></div>
    </div>
    <p>Clash indir: <a href="https://github.com/clashdownload/Clash">https://github.com/clashdownload/Clash</a></p>
    <h2>LAN proxy / Wi‑Fi LAN proxy</h2>
    <ul>
      <li><strong>Android</strong>: Wi‑Fi ayrıntıları → Proxy = Manuel; host = bu cihazın IP’si, port = uygulama portu. Ya da uygulamalarda HTTP/HTTPS alanlarını doldurun.
        <div class="guide-image"><img src="img/guide_android.png" alt="Android proxy kurulumu"></div>
      </li>
      <li><strong>iOS</strong>: Ayarlar → Wi‑Fi → mevcut ağ → Proxy’yi Yapılandır = Manuel; sunucu = host IP’si, port = uygulama portu (HTTP/HTTPS).
        <div class="guide-image"><img src="img/guide_ios.png" alt="iOS proxy kurulumu"></div>
      </li>
      <li><strong>Windows</strong>: Ayarlar → Ağ ve İnternet → Proxy → Manuel; adres = host IP’si, port = uygulama portu (HTTP/HTTPS); proxy hariç tutma: localhost;127.*;192.168.*;10.*;172.16.*;172.17.*;172.18.*;172.19.*;172.20.*;172.21.*;172.22.*;172.23.*;172.24.*;172.25.*;172.26.*;172.27.*;172.28.*;172.29.*;172.30.*;172.31.*.
        <div class="copy-row"><button type="button" class="copy-btn" data-copy="localhost;127.*;192.168.*;10.*;172.16.*;172.17.*;172.18.*;172.19.*;172.20.*;172.21.*;172.22.*;172.23.*;172.24.*;172.25.*;172.26.*;172.27.*;172.28.*;172.29.*;172.30.*;172.31.*"></button></div>
        <div class="guide-image"><img src="img/guide_window.png" alt="Windows proxy kurulumu"></div>
      </li>
      <li><strong>macOS</strong>: Sistem Ayarları → Ağ → mevcut arayüz → Ayrıntılar → Proxyler; HTTP/HTTPS’yi (veya SOCKS5) işaretleyin, sunucu = host IP’si, port = uygulama portu.
        <div class="proxy-bypass"><span class="proxy-bypass-label"></span> 127.0.0.1,192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,172.29.0.0/16,localhost,*.local,*.crashlytics.com,<local>,919dm*</div>
        <div class="copy-row"><button type="button" class="copy-btn" data-copy="127.0.0.1,192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,172.29.0.0/16,localhost,*.local,*.crashlytics.com,<local>,919dm*"></button></div>
        <div class="guide-image"><img src="img/guide_mac.png" alt="macOS proxy kurulumu"></div>
      </li>
      <li><strong>Diğer cihazlar</strong>: Cihaz/uygulamanın desteklediği HTTP/HTTPS/SOCKS5 proxy alanlarına host IP + port yazın.</li>
    </ul>
    <h2>Gelişmiş mod</h2>
    <p>Bazı VPN’ler LAN içindeki diğer cihazlardan gelen gelen bağlantıları engeller; bu nedenle bu host üzerindeki proxy hizmetine erişemezler ve VPN paylaşımı başarısız olur. Gelişmiş mod bir yardımcı cihaz ekler ve proxy hizmetini bu cihaza taşır. Bu host (VPN ile) yardımcı cihaza dışarıdan bağlantı kurar, veriyi geri getirir ve ardından istekleri yerel olarak yürütür.</p>
    <p>Doğru ayarlara rağmen diğer LAN cihazları proxy’ye erişemiyorsa gelişmiş modu etkinleştirin. Yardımcı cihaz, diğer cihazlar gibi proxy ayarlayıp ana cihazın VPN’ini kullanabilir.</p>
    <p class="notice-green"><strong>Önemli:</strong> Yardımcı cihaz da Clash tam tünel VPN proxy kullanacaksa, önce VPN'i kapatıp ana cihaza bağlanın; bağlantı başarılı olduktan sonra VPN'i açın. Cihaz rolü şu anda VPN'in açık olup olmadığına göre belirlenir.</p>
  </div>

  <div class="lang" data-lang="ur">
    <h2>مقصد</h2>
    <p>اسی Wi‑Fi/ہاٹ اسپات پر اس ڈیوائس کو LAN پراکسی گیٹ وے کے طور پر استعمال کریں؛ دیگر ڈیوائسز کی ٹریفک اس ہوسٹ سے گزرے گی (ہوسٹ VPN کے ساتھ مل کر استعمال کیا جا سکتا ہے)۔ ایک ہی وقت میں متعدد ڈیوائسز کے کنکشن کی سپورٹ ہے۔</p>
    <h2>ترتیباتی پیرامیٹرز</h2>
    <div class="guide-image"><img src="img/introduce.png" alt="ترتیباتی پیرامیٹرز"></div>
    <p>ہوسٹ: 10.0.2.15:1080<br>ہوسٹ IP: 10.0.2.15<br>ایپ پورٹ: 1080<br>مثالی IP اور پورٹ کو اپنے ڈیوائس کی اصل قدروں سے بدلیں۔<br>اگر Listener Port دستیاب نہ ہو یا مصروف ہو تو 1024–49151 کے درمیان کوئی بھی پورٹ منتخب کریں؛ فنکشن میں کوئی فرق نہیں۔</p>
    <h2>ہوسٹ کے مراحل (VPN کے ساتھ)</h2>
    <ol>
      <li>ایپ کھولیں، پراکسی موڈ منتخب کریں (تجویز “آٹو ڈٹیکٹ”) اور پورٹ منتخب کریں (ڈیفالٹ 1080)۔ موجودہ ورژن ساری ٹریفک پراکسی سے گزارتا ہے۔</li>
      <li>یقین کریں کہ ہوسٹ اور کلائنٹس ایک ہی LAN پر ہیں اور پورٹ خالی ہے۔</li>
      <li>“گیٹ وے شروع کریں” پر ٹیپ کریں اور فورگراؤنڈ سروس کو جاری رکھیں۔</li>
    </ol>
    <h2>فل ٹنل VPN پراکسی</h2>
    <p>دوسرے ڈیوائس پر Clash انسٹال کریں، پہلے تیار شدہ YAML فائل ڈاؤن لوڈ کریں، پھر Clash میں فائل امپورٹ کے ذریعے شامل کریں (لنک سے براہِ راست سبسکرپشن فی الحال سپورٹڈ نہیں ہے)۔ جب پورے ڈیوائس کا پراکسی چاہیے تو استعمال کریں۔ IP اور پورٹ کو میزبان (VPN کے ساتھ) پر چلائی گئی سروس کے مطابق رکھیں۔</p>
    <div class="yaml-generator" data-invalid-ip="براہ کرم درست IP درج کریں۔" data-invalid-port="براہ کرم درست پورٹ (1–65535) درج کریں۔" data-output-prefix="بنایا گیا لنک: ">
      <div class="yaml-form">
        <input class="yaml-input" type="text" inputmode="decimal" placeholder="IP درج کریں">
        <input class="yaml-input" type="text" inputmode="numeric" placeholder="پورٹ درج کریں">
        <button type="button">YAML لنک بنائیں</button>
      </div>
      <div class="yaml-output" aria-live="polite"></div>
    </div>
    <p>Clash ڈاؤن لوڈ: <a href="https://github.com/clashdownload/Clash">https://github.com/clashdownload/Clash</a></p>
    <h2>LAN پراکسی / Wi‑Fi LAN پراکسی</h2>
    <ul>
      <li><strong>Android</strong>: Wi‑Fi تفصیل → پراکسی = Manual؛ ہوسٹ = اس ڈیوائس کا IP، پورٹ = ایپ کا پورٹ۔ یا ایپس میں HTTP/HTTPS درج کریں۔
        <div class="guide-image"><img src="img/guide_android.png" alt="Android پراکسی سیٹ اپ"></div>
      </li>
      <li><strong>iOS</strong>: Settings → Wi‑Fi → موجودہ نیٹ ورک → Configure Proxy = Manual؛ سرور = ہوسٹ IP، پورٹ = ایپ پورٹ (HTTP/HTTPS).
        <div class="guide-image"><img src="img/guide_ios.png" alt="iOS پراکسی سیٹ اپ"></div>
      </li>
      <li><strong>Windows</strong>: Settings → Network & Internet → Proxy → Manual؛ address = ہوسٹ IP، port = ایپ پورٹ (HTTP/HTTPS)؛ proxy bypass: localhost;127.*;192.168.*;10.*;172.16.*;172.17.*;172.18.*;172.19.*;172.20.*;172.21.*;172.22.*;172.23.*;172.24.*;172.25.*;172.26.*;172.27.*;172.28.*;172.29.*;172.30.*;172.31.*۔
        <div class="copy-row"><button type="button" class="copy-btn" data-copy="localhost;127.*;192.168.*;10.*;172.16.*;172.17.*;172.18.*;172.19.*;172.20.*;172.21.*;172.22.*;172.23.*;172.24.*;172.25.*;172.26.*;172.27.*;172.28.*;172.29.*;172.30.*;172.31.*"></button></div>
        <div class="guide-image"><img src="img/guide_window.png" alt="Windows پراکسی سیٹ اپ"></div>
      </li>
      <li><strong>macOS</strong>: System Settings → Network → موجودہ انٹرفیس → Details → Proxies؛ HTTP/HTTPS (یا SOCKS5) منتخب کریں، server = ہوسٹ IP، port = ایپ پورٹ۔
        <div class="proxy-bypass"><span class="proxy-bypass-label"></span> 127.0.0.1,192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,172.29.0.0/16,localhost,*.local,*.crashlytics.com,<local>,919dm*</div>
        <div class="copy-row"><button type="button" class="copy-btn" data-copy="127.0.0.1,192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,172.29.0.0/16,localhost,*.local,*.crashlytics.com,<local>,919dm*"></button></div>
        <div class="guide-image"><img src="img/guide_mac.png" alt="macOS پراکسی سیٹ اپ"></div>
      </li>
      <li><strong>دیگر ڈیوائسز</strong>: ڈیوائس/ایپ کی HTTP/HTTPS/SOCKS5 پراکسی سیٹنگ میں ہوسٹ IP + پورٹ لکھیں۔</li>
    </ul>
    <h2>اینہانسڈ موڈ</h2>
    <p>کچھ VPN دیگر LAN ڈیوائسز سے آنے والی اِن باؤنڈ کنکشنز کو بلاک کر دیتے ہیں، جس سے وہ اس ہوسٹ پر موجود پراکسی سروس تک نہیں پہنچ پاتیں اور VPN شیئرنگ ناکام ہو جاتی ہے۔ اینہانسڈ موڈ ایک معاون ڈیوائس شامل کرتا ہے اور پراکسی سروس کو اس ڈیوائس پر منتقل کر دیتا ہے۔ یہ ہوسٹ (VPN کے ساتھ) معاون ڈیوائس سے آؤٹ باؤنڈ کنکشن کرتا ہے، ڈیٹا واپس لاتا ہے اور پھر مقامی طور پر ریکویسٹ کرتا ہے۔</p>
    <p>اگر درست سیٹنگز کے باوجود دیگر LAN ڈیوائسز پراکسی تک نہیں پہنچ پا رہیں تو اینہانسڈ موڈ فعال کریں۔ معاون ڈیوائس بھی دیگر ڈیوائسز کی طرح پراکسی سیٹ کر کے مرکزی ڈیوائس کا VPN استعمال کر سکتی ہے۔</p>
    <p class="notice-green"><strong>اہم:</strong> اگر معاون ڈیوائس کو بھی Clash فل ٹنل VPN پراکسی درکار ہو تو پہلے VPN بند کر کے مرکزی ڈیوائس سے کنکشن قائم کریں، پھر کنکشن کامیاب ہونے کے بعد VPN آن کریں۔ فی الحال ڈیوائس کی شناخت VPN کے فعال ہونے پر مبنی ہے۔</p>
  </div>

  <div class="lang" data-lang="vi">
    <h2>Mục đích</h2>
    <p>Dùng thiết bị này làm gateway proxy LAN trong cùng Wi‑Fi/điểm phát; lưu lượng của thiết bị khác sẽ đi qua máy chủ này (có thể dùng kèm VPN của máy chủ). Hỗ trợ kết nối đồng thời nhiều thiết bị.</p>
    <h2>Thông số cấu hình</h2>
    <div class="guide-image"><img src="img/introduce.png" alt="Thông số cấu hình"></div>
    <p>Máy chủ: 10.0.2.15:1080<br>IP máy chủ: 10.0.2.15<br>Cổng ứng dụng: 1080<br>Hãy thay IP và cổng ví dụ bằng giá trị thực tế của thiết bị.<br>Nếu Listener Port không khả dụng hoặc đang bị chiếm, hãy chọn bất kỳ cổng nào trong khoảng 1024–49151; chức năng không khác biệt.</p>
    <h2>Các bước trên máy chủ (có VPN)</h2>
    <ol>
      <li>Mở ứng dụng, chọn chế độ proxy (khuyến nghị “Tự động nhận diện”) và cổng (mặc định 1080). Phiên bản hiện tại đưa toàn bộ lưu lượng qua proxy.</li>
      <li>Đảm bảo máy chủ và client cùng LAN và cổng không bị chiếm.</li>
      <li>Nhấn “Khởi động gateway” và giữ dịch vụ nền trước hoạt động.</li>
    </ol>
    <h2>Proxy VPN full‑tunnel</h2>
    <p>Cài Clash trên thiết bị khác, tải trước YAML đã tạo rồi nhập vào Clash bằng chức năng import file (hiện chưa hỗ trợ đăng ký trực tiếp qua liên kết). Dùng khi cần proxy toàn bộ thiết bị. IP và cổng phải khớp với dịch vụ trên host (có VPN) mà bạn đã bật.</p>
    <div class="yaml-generator" data-invalid-ip="Vui lòng nhập IP hợp lệ." data-invalid-port="Vui lòng nhập cổng hợp lệ (1–65535)." data-output-prefix="Liên kết đã tạo: ">
      <div class="yaml-form">
        <input class="yaml-input" type="text" inputmode="decimal" placeholder="Nhập IP">
        <input class="yaml-input" type="text" inputmode="numeric" placeholder="Nhập cổng">
        <button type="button">Tạo liên kết YAML</button>
      </div>
      <div class="yaml-output" aria-live="polite"></div>
    </div>
    <p>Tải Clash: <a href="https://github.com/clashdownload/Clash">https://github.com/clashdownload/Clash</a></p>
    <h2>Proxy LAN / Proxy LAN qua Wi‑Fi</h2>
    <ul>
      <li><strong>Android</strong>: Chi tiết Wi‑Fi → Proxy = Manual; host = IP của thiết bị này, port = cổng ứng dụng. Hoặc điền HTTP/HTTPS trong ứng dụng.
        <div class="guide-image"><img src="img/guide_android.png" alt="Thiết lập proxy Android"></div>
      </li>
      <li><strong>iOS</strong>: Cài đặt → Wi‑Fi → mạng hiện tại → Cấu hình proxy = Manual; máy chủ = IP host, cổng = cổng ứng dụng (HTTP/HTTPS).
        <div class="guide-image"><img src="img/guide_ios.png" alt="Thiết lập proxy iOS"></div>
      </li>
      <li><strong>Windows</strong>: Settings → Network & Internet → Proxy → Manual; địa chỉ = IP host, cổng = cổng ứng dụng (HTTP/HTTPS); danh sách bỏ qua: localhost;127.*;192.168.*;10.*;172.16.*;172.17.*;172.18.*;172.19.*;172.20.*;172.21.*;172.22.*;172.23.*;172.24.*;172.25.*;172.26.*;172.27.*;172.28.*;172.29.*;172.30.*;172.31.*.
        <div class="copy-row"><button type="button" class="copy-btn" data-copy="localhost;127.*;192.168.*;10.*;172.16.*;172.17.*;172.18.*;172.19.*;172.20.*;172.21.*;172.22.*;172.23.*;172.24.*;172.25.*;172.26.*;172.27.*;172.28.*;172.29.*;172.30.*;172.31.*"></button></div>
        <div class="guide-image"><img src="img/guide_window.png" alt="Thiết lập proxy Windows"></div>
      </li>
      <li><strong>macOS</strong>: Cài đặt hệ thống → Mạng → giao diện hiện tại → Chi tiết → Proxy; đánh dấu HTTP/HTTPS (hoặc SOCKS5), máy chủ = IP host, cổng = cổng ứng dụng.
        <div class="proxy-bypass"><span class="proxy-bypass-label"></span> 127.0.0.1,192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,172.29.0.0/16,localhost,*.local,*.crashlytics.com,<local>,919dm*</div>
        <div class="copy-row"><button type="button" class="copy-btn" data-copy="127.0.0.1,192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,172.29.0.0/16,localhost,*.local,*.crashlytics.com,<local>,919dm*"></button></div>
        <div class="guide-image"><img src="img/guide_mac.png" alt="Thiết lập proxy macOS"></div>
      </li>
      <li><strong>Thiết bị khác</strong>: điền IP host + cổng trong phần cấu hình proxy HTTP/HTTPS/SOCKS5 mà thiết bị/ứng dụng hỗ trợ.</li>
    </ul>
    <h2>Chế độ tăng cường</h2>
    <p>Một số VPN chặn kết nối vào từ thiết bị LAN khác, khiến chúng không thể truy cập dịch vụ proxy trên máy chủ này và việc chia sẻ VPN bị thất bại. Chế độ tăng cường thêm một thiết bị phối hợp và chuyển dịch vụ proxy sang thiết bị đó. Máy chủ này (có VPN) kết nối ra ngoài tới thiết bị phối hợp, mang dữ liệu về rồi mới thực hiện yêu cầu cục bộ.</p>
    <p>Nếu các thiết bị LAN khác vẫn không truy cập được proxy dù đã cấu hình đúng, hãy bật Chế độ tăng cường. Thiết bị phối hợp có thể cấu hình proxy như các thiết bị khác để dùng VPN của thiết bị chính.</p>
    <p class="notice-green"><strong>Quan trọng:</strong> Nếu thiết bị phối hợp cũng cần dùng proxy VPN full‑tunnel của Clash, hãy tắt VPN trước để kết nối với thiết bị chính, rồi bật VPN sau khi kết nối thành công. Việc phân biệt vai trò thiết bị hiện dựa trên việc VPN có bật hay không.</p>
  </div>
</body>
</html>
